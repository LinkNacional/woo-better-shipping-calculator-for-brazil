(()=>{function e(e,a){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,a){if(e){if("string"==typeof e)return n(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw i}}}}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=Array(n);a<n;a++)t[a]=e[a];return t}var a={"+1":"(999) 999-9999","+7":"9 (999) 999-99-99","+20":"9999 999 9999","+27":"999 999 9999","+30":"999 9999 9999","+31":"99 999 9999","+32":"999 99 99 99","+33":"99 99 99 99 99","+34":"999 99 99 99","+36":"99 999 9999","+39":"999 999 9999","+40":"9999 999 999","+41":"99 999 99 99","+43":"9999 999999","+44":"9999 999999","+45":"99 99 99 99","+46":"99-999 99 99","+47":"999 99 999","+48":"999-999-999","+49":"9999 9999999","+51":"999 999 999","+52":"999 999 9999","+53":"999 999 9999","+54":"999 9999-9999","+55":"(99) 99999-9999","+56":"9 9999 9999","+57":"999 9999999","+58":"9999-9999999","+60":"999-999 9999","+61":"9999 999 999","+62":"999-9999-9999","+63":"9999 999 9999","+64":"999 999 999","+65":"9999 9999","+66":"99 9999 9999","+81":"99-9999-9999","+82":"99-999-9999","+84":"9999 999 999","+86":"999 9999 9999","+90":"999 999 9999","+91":"99999-99999","+92":"9999-9999999","+93":"99 999 9999","+94":"999-9999999","+98":"999 999 9999","+212":"999-999999","+213":"999 99 99 99","+216":"99 999 999","+218":"99-9999999","+220":"999 9999","+221":"99 999 99 99","+222":"9999 9999","+223":"99 99 99 99","+224":"999 99 99 99","+225":"99 999 999","+226":"99 99 99 99","+227":"99 99 99 99","+228":"99 99 99 99","+229":"99 99 99 99","+230":"999 9999","+231":"999 999 9999","+232":"99 999999","+233":"999 999 9999","+234":"999 999 9999","+351":"99 999 99 99"};function t(n,a){var t=n.replace(/\D/g,"");"(99) 99999-9999"!==a&&"(99) 9999-9999"!==a||(10===t.length?a="(99) 9999-9999":11===t.length&&(a="(99) 99999-9999"));var o,r=0,i="",l=e(a);try{for(l.s();!(o=l.n()).done;){var c=o.value;if("9"===c){if(!t[r])break;i+=t[r++]}else r<t.length&&(i+=c)}}catch(e){l.e(e)}finally{l.f()}return i}jQuery(function(n){var o,r=[{code:"+1",name:"Estados Unidos",flag:"ðŸ‡ºðŸ‡¸"},{code:"+7",name:"RÃºssia",flag:"ðŸ‡·ðŸ‡º"},{code:"+20",name:"Egito",flag:"ðŸ‡ªðŸ‡¬"},{code:"+27",name:"Ãfrica do Sul",flag:"ðŸ‡¿ðŸ‡¦"},{code:"+30",name:"GrÃ©cia",flag:"ðŸ‡¬ðŸ‡·"},{code:"+31",name:"Holanda",flag:"ðŸ‡³ðŸ‡±"},{code:"+32",name:"BÃ©lgica",flag:"ðŸ‡§ðŸ‡ª"},{code:"+33",name:"FranÃ§a",flag:"ðŸ‡«ðŸ‡·"},{code:"+34",name:"Espanha",flag:"ðŸ‡ªðŸ‡¸"},{code:"+36",name:"Hungria",flag:"ðŸ‡­ðŸ‡º"},{code:"+39",name:"ItÃ¡lia",flag:"ðŸ‡®ðŸ‡¹"},{code:"+40",name:"RomÃªnia",flag:"ðŸ‡·ðŸ‡´"},{code:"+41",name:"SuÃ­Ã§a",flag:"ðŸ‡¨ðŸ‡­"},{code:"+43",name:"Ãustria",flag:"ðŸ‡¦ðŸ‡¹"},{code:"+44",name:"Reino Unido",flag:"ðŸ‡¬ðŸ‡§"},{code:"+45",name:"Dinamarca",flag:"ðŸ‡©ðŸ‡°"},{code:"+46",name:"SuÃ©cia",flag:"ðŸ‡¸ðŸ‡ª"},{code:"+47",name:"Noruega",flag:"ðŸ‡³ðŸ‡´"},{code:"+48",name:"PolÃ´nia",flag:"ðŸ‡µðŸ‡±"},{code:"+49",name:"Alemanha",flag:"ðŸ‡©ðŸ‡ª"},{code:"+51",name:"Peru",flag:"ðŸ‡µðŸ‡ª"},{code:"+52",name:"MÃ©xico",flag:"ðŸ‡²ðŸ‡½"},{code:"+53",name:"Cuba",flag:"ðŸ‡¨ðŸ‡º"},{code:"+54",name:"Argentina",flag:"ðŸ‡¦ðŸ‡·"},{code:"+55",name:"Brasil",flag:"ðŸ‡§ðŸ‡·"},{code:"+56",name:"Chile",flag:"ðŸ‡¨ðŸ‡±"},{code:"+57",name:"ColÃ´mbia",flag:"ðŸ‡¨ðŸ‡´"},{code:"+58",name:"Venezuela",flag:"ðŸ‡»ðŸ‡ª"},{code:"+60",name:"MalÃ¡sia",flag:"ðŸ‡²ðŸ‡¾"},{code:"+61",name:"AustrÃ¡lia",flag:"ðŸ‡¦ðŸ‡º"},{code:"+62",name:"IndonÃ©sia",flag:"ðŸ‡®ðŸ‡©"},{code:"+63",name:"Filipinas",flag:"ðŸ‡µðŸ‡­"},{code:"+64",name:"Nova ZelÃ¢ndia",flag:"ðŸ‡³ðŸ‡¿"},{code:"+65",name:"Singapura",flag:"ðŸ‡¸ðŸ‡¬"},{code:"+66",name:"TailÃ¢ndia",flag:"ðŸ‡¹ðŸ‡­"},{code:"+81",name:"JapÃ£o",flag:"ðŸ‡¯ðŸ‡µ"},{code:"+82",name:"Coreia do Sul",flag:"ðŸ‡°ðŸ‡·"},{code:"+84",name:"VietnÃ£",flag:"ðŸ‡»ðŸ‡³"},{code:"+86",name:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"+90",name:"Turquia",flag:"ðŸ‡¹ðŸ‡·"},{code:"+91",name:"Ãndia",flag:"ðŸ‡®ðŸ‡³"},{code:"+92",name:"PaquistÃ£o",flag:"ðŸ‡µðŸ‡°"},{code:"+93",name:"AfeganistÃ£o",flag:"ðŸ‡¦ðŸ‡«"},{code:"+94",name:"Sri Lanka",flag:"ðŸ‡±ðŸ‡°"},{code:"+98",name:"IrÃ£",flag:"ðŸ‡®ðŸ‡·"},{code:"+212",name:"Marrocos",flag:"ðŸ‡²ðŸ‡¦"},{code:"+213",name:"ArgÃ©lia",flag:"ðŸ‡©ðŸ‡¿"},{code:"+216",name:"TunÃ­sia",flag:"ðŸ‡¹ðŸ‡³"},{code:"+218",name:"LÃ­bia",flag:"ðŸ‡±ðŸ‡¾"},{code:"+220",name:"GÃ¢mbia",flag:"ðŸ‡¬ðŸ‡²"},{code:"+221",name:"Senegal",flag:"ðŸ‡¸ðŸ‡³"},{code:"+222",name:"MauritÃ¢nia",flag:"ðŸ‡²ðŸ‡·"},{code:"+223",name:"Mali",flag:"ðŸ‡²ðŸ‡±"},{code:"+224",name:"GuinÃ©",flag:"ðŸ‡¬ðŸ‡³"},{code:"+225",name:"Costa do Marfim",flag:"ðŸ‡¨ðŸ‡®"},{code:"+226",name:"Burkina Faso",flag:"ðŸ‡§ðŸ‡«"},{code:"+227",name:"NÃ­ger",flag:"ðŸ‡³ðŸ‡ª"},{code:"+228",name:"Togo",flag:"ðŸ‡¹ðŸ‡¬"},{code:"+229",name:"Benin",flag:"ðŸ‡§ðŸ‡¯"},{code:"+230",name:"MaurÃ­cio",flag:"ðŸ‡²ðŸ‡º"},{code:"+231",name:"LibÃ©ria",flag:"ðŸ‡±ðŸ‡·"},{code:"+232",name:"Serra Leoa",flag:"ðŸ‡¸ðŸ‡±"},{code:"+233",name:"Gana",flag:"ðŸ‡¬ðŸ‡­"},{code:"+234",name:"NigÃ©ria",flag:"ðŸ‡³ðŸ‡¬"},{code:"+351",name:"Portugal",flag:"ðŸ‡µðŸ‡¹"}];function i(o){var i=n("#"+o);if(0!==i.length){var l=i.parent();if(!l.find(".phone-country-select").length){l.css("position","relative");var c=i.outerHeight()||40,d=n("<select></select>").addClass("phone-country-select").attr("id","woo-better-country-select-"+o).css({position:"absolute",left:"0",top:"0",width:"118px",height:"100%",maxHeight:c+"px",overflowY:"auto",zIndex:2,border:"1px solid #ccc",borderRadius:"4px",background:"#fff",paddingLeft:"4px",fontSize:"medium",appearance:"auto","-webkit-appearance":"menulist","-moz-appearance":"menulist"});new MutationObserver(function(){s()}).observe(l[0],{childList:!0,subtree:!0}),i.on("focus blur input",s),s(),n(window).on("resize",s);var g="+55";"undefined"!=typeof wc_better_phone_country&&("billing-phone"===o&&wc_better_phone_country.billing_phone_country&&(g=wc_better_phone_country.billing_phone_country),"shipping-phone"===o&&wc_better_phone_country.shipping_phone_country&&(g=wc_better_phone_country.shipping_phone_country)),n.each(r,function(e,a){var t=n("<option></option>").val(a.code).text(a.flag+" "+a.code);a.code===g&&t.attr("selected","selected"),d.append(t)}),l.prepend(d),i.css({paddingLeft:"128px",boxSizing:"border-box"});var f=l.find('label[for="'+o+'"]'),u="128px";i.val()&&(u="158px"),f.css({paddingLeft:u,display:"block",transition:"padding-left 0.2s"}),function(){var e=i.val();if(e&&e.startsWith("+")){var n=e.match(/^(\+\d{1,3})\s?/);if(n){var a=n[1];if(d.find('option[value="'+a+'"]').length){d.val(a).trigger("change");var t=e.replace(new RegExp("^"+a+"s?"),"");i.val(t)}}}}(),i.on("focus",function(){f.css("paddingLeft","158px")}),i.on("blur",function(){i.val()?f.css("paddingLeft","158px"):f.css("paddingLeft","128px");var e=i[0];if(e){var n=d.val(),o=a[n]||"",r=i.val().replace(/\D/g,""),l=(o.match(/9/g)||[]).length,c=t(r=r.substring(0,l),o);Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(e,c),e.dispatchEvent(new Event("input",{bubbles:!0}))}}),i.off("input keypress change"),d.off("change"),i.on("input",function(n){var o=i[0],r=i.val();if(r.startsWith("+")){if("insertText"===n.inputType&&"+"===n.data&&0===r.indexOf("+"))return i.val(r.slice(0,-1)),i[0].setAttribute("value",r.slice(0,-1)),void i[0].dispatchEvent(new Event("input",{bubbles:!0}));var l=r.match(/^(\+\d{1,3})/),c=l?l[1]:"";if("+"===r)return;if(c&&a[c]&&d.val(c),c&&!a[c]&&c.length>2){for(var g=null,f=0,u=[r.substring(0,4),r.substring(0,3),r.substring(0,2)];f<u.length;f++){var s=u[f];if(a[s]){g=s;break}}g||(g=d.val()),d.val(g);var p=r.substring(g.length),v=a[g]||"",m=p.replace(/\D/g,""),h=(v.match(/9/g)||[]).length,b=t(m=m.substring(0,h),v);return Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(o,b),void o.dispatchEvent(new Event("input",{bubbles:!0}))}if(c&&r.length>c.length){if(" "===r[c.length]){var w=r.substring(c.length+1),y=a[d.val()]||"",_=w.replace(/\D/g,""),x=(y.match(/9/g)||[]).length,E=t(_=_.substring(0,x),y);return Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(o,E),void o.dispatchEvent(new Event("input",{bubbles:!0}))}return Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(o,c),void o.dispatchEvent(new Event("input",{bubbles:!0}))}}else{var L=d.val(),M=a[L]||"";if(M){var S=(M.match(/9/g)||[]).length;if("insertText"===n.inputType&&n.data&&!/[0-9\(\)\- ]/.test(n.data))return i.val(r.slice(0,-1)),i[0].setAttribute("value",r.slice(0,-1)),void i[0].dispatchEvent(new Event("input",{bubbles:!0}));for(var O="",T=o.selectionStart,k=0,A=0;A<r.length;A++)/\d/.test(r[A])&&(O+=r[A],A<T&&k++);if(0===O.length)return;var I=t(O=O.substring(0,S),M);if(I!==r){for(var C=r.replace(/[0-9]/g,""),H="",D=0;D<I.length;D++)/[0-9]/.test(I[D]),H+=I[D];var P,j=e(C);try{for(j.s();!(P=j.n()).done;){var z=P.value;!H.includes(z)&&/[\(\)\- ]/.test(z)&&(H+=z)}}catch(e){j.e(e)}finally{j.f()}var R=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(o.value!==H){R.call(o,H);for(var B=0,G=0;B<H.length&&G<k;)/\d/.test(H[B])&&G++,B++;B=Math.min(B,H.length),o.setSelectionRange(B,B)}}}}}),d.on("change",function(){var e=i[0];if(e){Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(e,""),e.dispatchEvent(new Event("input",{bubbles:!0}));var n=l.find('label[for="'+o+'"]');""===i.val()&&n.css("paddingLeft","128px")}})}}function s(){var e=i.outerHeight()||40;d.css("maxHeight",e+"px")}}function l(){var e=n("#woo-better-country-select-billing-phone"),a=n("#woo-better-country-select-shipping-phone"),t=e.length?e.val():null,o=a.length?a.val():null;t&&!o?o=t:!t&&o&&(t=o);var r={};t&&(r.billing_phone_country=t),o&&(r.shipping_phone_country=o),window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_phone_validation",data:r})}o=["billing-phone","shipping-phone"],new MutationObserver(function(){n.each(o,function(e,n){i(n)}),window.wc&&window.wc.blocksCheckout&&l()}).observe(document.body,{childList:!0,subtree:!0}),n.each(o,function(e,n){i(n)}),window.wc&&window.wc.blocksCheckout&&l()})})();