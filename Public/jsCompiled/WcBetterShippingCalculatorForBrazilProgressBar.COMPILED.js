(()=>{function t(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}!function(e){"use strict";var n=null,o=!1,r=null,a=0,i=0,s="",c="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{};c.initial_cart_total&&(a=parseFloat(c.initial_cart_total));var l="undefined"!=typeof wc_better_shipping_progress?parseFloat(wc_better_shipping_progress.min_free_shipping_value):0;function u(){for(var e,n=null,o=0,r=['tr.cart-subtotal td[data-title="Subtotal"] .woocommerce-Price-amount.amount bdi',".cart-subtotal .woocommerce-Price-amount.amount bdi",".cart-subtotal .amount bdi",".wc-block-formatted-money-amount.wc-block-components-totals-item__value",".wc-block-components-totals-item__value .wc-block-formatted-money-amount",'td[data-title="Subtotal"] .woocommerce-Price-amount.amount bdi:last-of-type',".order-total .woocommerce-Price-amount.amount bdi",".order-total .woocommerce-Price-amount.amount"];o<r.length;o++){var i,s=r[o],c=t(document.querySelectorAll(s));try{for(c.s();!(i=c.n()).done;){var l=i.value;if(l&&l.textContent.trim()&&!l.closest(".cart_item, .woocommerce-cart-form__cart-item, .wc-block-cart-item")){n=l;break}}}catch(t){c.e(t)}finally{c.f()}if(n&&n.textContent.trim())break}if(!n||!n.textContent.trim())return a||0;var u=(null===(e=window.wcSettings)||void 0===e?void 0:e.currency)||{},d=u.decimalSeparator||",",p=u.thousandSeparator||".",m="."===d||","===d?d:",",f="."===p||","===p?p:".",g=n.textContent.trim().replace(new RegExp("\\".concat(f),"g"),"").replace(new RegExp("\\".concat(m)),".").replace(/[^\d.-]/g,""),h=parseFloat(g)||0;return a=h,h}function d(){var t=a||u(),e=0,r="",c="#4caf50",d="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{},p=d.currency_symbol||"R$",m=d.min_free_shipping_success_message||"",f="no"!==d.enable_progress_bar_value,g=d.min_free_shipping_message||"",h=d.only_digital_products||!1,y="";if(o)e=i,r="Carregando...",y=f?"Carregando...":"";else if(h)e=100,c="#9e9e9e",r="Carrinho contém apenas produto(s) digital(s).",y=f?"Digital":"";else{if(l<=0)e=100,r=m,y=f?"Completo!":"";else if(e=Math.min(t/l*100,100),t>=l)r=m,y=f?"Completo!":"";else{var w=p+(l-t).toFixed(2);r=g.includes("{value}")?g.replace("{value}",w):g,y=f?"Falta "+w:""}i=e,s=r}var b=document.querySelector(".wc-better-shipping-progress-bar");if(b){if(n!==e||o){var _=b.querySelector(".wc-better-shipping-progress");_&&(o?(_.classList.add("loading"),_.style.background="linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%)",_.style.backgroundSize="200% 100%",_.style.animation="loading-shimmer 1.5s ease-in-out infinite"):(_.classList.remove("loading"),_.style.width=e+"%",_.style.background=c,_.style.animation="none"));var v=b.querySelector(".wc-better-shipping-progress-inner-text");if(f)if(v)v.textContent=y;else{var x=b.querySelector(".wc-better-shipping-progress").parentNode,S=document.createElement("div");S.className="wc-better-shipping-progress-inner-text",S.style.position="absolute",S.style.top="50%",S.style.left="8px",S.style.transform="translateY(-50%)",S.style.fontSize="12px",S.style.fontWeight="bold",S.style.color="#fff",S.style.textShadow="1px 1px 2px rgba(0,0,0,0.5)",S.style.whiteSpace="nowrap",S.style.zIndex="10",S.textContent=y,x.appendChild(S)}else v&&v.remove();var k=b.querySelector(".wc-better-shipping-progress-text");k&&(k.textContent=r),n=e}}else{var C=document.createElement("div");C.className="wc-better-shipping-progress-bar",C.style.margin="15px 0px",C.style.padding="0px 16px";var E=document.createElement("div");E.style.background="#eee",E.style.borderRadius="4px",E.style.overflow="hidden",E.style.height="20px",E.style.position="relative";var T=document.createElement("div");if(T.className="wc-better-shipping-progress",T.style.background=c,T.style.width=e+"%",T.style.height="100%",T.style.transition="width 0.5s ease-in-out",o&&(T.style.background="linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%)",T.style.backgroundSize="200% 100%",T.style.animation="loading-shimmer 1.5s ease-in-out infinite"),f){var A=document.createElement("div");A.className="wc-better-shipping-progress-inner-text",A.style.position="absolute",A.style.top="50%",A.style.left="8px",A.style.transform="translateY(-50%)",A.style.fontSize="12px",A.style.fontWeight="bold",A.style.color="#fff",A.style.textShadow="1px 1px 2px rgba(0,0,0,0.5)",A.style.whiteSpace="nowrap",A.style.zIndex="10",A.textContent=y,E.appendChild(T),E.appendChild(A)}else E.appendChild(T);var q=document.createElement("div");if(q.className="wc-better-shipping-progress-text",q.style.marginTop="5px",q.style.fontSize="14px",q.textContent=r,C.appendChild(E),C.appendChild(q),!document.getElementById("wc-better-progress-styles")){var j=document.createElement("style");j.id="wc-better-progress-styles",j.textContent="\n\t\t\t\t\t@keyframes loading-shimmer {\n\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\tbackground-position: -200% 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\tbackground-position: 200% 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.wc-better-shipping-progress.loading {\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%) !important;\n\t\t\t\t\t\tbackground-size: 200% 100% !important;\n\t\t\t\t\t\tanimation: loading-shimmer 1.5s ease-in-out infinite !important;\n\t\t\t\t\t}\n\t\t\t\t",document.head.appendChild(j)}var N=document.querySelectorAll(".cart-collaterals .cart_totals h2");N.length>0&&(C.style.padding="0px",N.forEach(function(t){t.parentNode.insertBefore(C,t)})),(N=document.querySelectorAll(".woocommerce-checkout-review-order")).length>0&&(C.style.padding="0px",N.forEach(function(t){t.parentNode.insertBefore(C,t)})),(N=document.querySelectorAll(".wp-block-woocommerce-cart-order-summary-heading-block")).length>0&&(C.style.padding="0px",N.forEach(function(t){t.parentNode.insertBefore(C,t)})),(N=document.querySelectorAll(".wc-block-components-checkout-order-summary__title")).length>0&&(C.style.padding="0px 10px",N.forEach(function(t){t.parentNode.insertBefore(C,t)}))}}function p(){o=!1,r&&(clearTimeout(r),r=null),setTimeout(function(){d()},200)}function m(){!function(){if(0===i&&""===s){var t=a,e=c.currency_symbol||"R$",n=c.min_free_shipping_success_message||"Parabéns! Você tem frete grátis!",o=c.min_free_shipping_message||"Falta(m) apenas mais {value} para obter FRETE GRÁTIS";if(l<=0)i=100,s=n;else if(i=Math.min(t/l*100,100),t>=l)s=n;else{var r=e+(l-t).toFixed(2);s=o.includes("{value}")?o.replace("{value}",r):o}}}(),function(){var t,n,i="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{},s=!i.has_cart_block;i.current_url||window.location.href,s?(n=new MutationObserver(function(t){t.forEach(function(t){"childList"!==t.type&&"characterData"!==t.type||document.querySelectorAll([".order-total .woocommerce-Price-amount.amount bdi",".cart-subtotal .woocommerce-Price-amount.amount bdi",".wc-block-formatted-money-amount.wc-block-components-totals-item__value"].join(",")).length>0&&(clearTimeout(window.wcProgressBarTimeout),window.wcProgressBarTimeout=setTimeout(function(){a=u(),d()},500))})}),document.querySelectorAll(".cart, .checkout, .woocommerce-cart, .woocommerce-checkout").forEach(function(t){n.observe(t,{childList:!0,subtree:!0,characterData:!0})}),e(document).on("updated_cart_totals updated_checkout",function(){setTimeout(function(){a=u(),d()},300)})):(t=window.fetch,window.fetch=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s=n[0];if(n[1],!s||!s.includes("/wp-json/wc/store/v1/batch")&&!s.includes("/wp-json/wc/store/v1/cart")||s.includes("braspag")||s.includes("cardinalcommerce"))return t.apply(this,n);var c=window.location.hostname,l="";try{l=s.startsWith("http")?new URL(s).hostname:c}catch(t){l=c}return l!==c?t.apply(this,n):(s.includes("/wp-json/wc/store/v1/batch")&&(o=!0,r&&clearTimeout(r),d(),r=setTimeout(function(){p()},5e3)),t.apply(this,n).then(function(t){var e=t.clone();return s.includes("/wp-json/wc/store/v1/batch")?e.json().then(function(t){if(t&&t.responses&&t.responses[0]&&t.responses[0].body){var e=t.responses[0].body;if(e.totals&&e.totals.total_items){var n=parseInt(e.totals.total_items)/100;a=n,setTimeout(function(){p()},300)}}}).catch(function(t){p()}):s.includes("/wp-json/wc/store/v1/cart")&&e.json().then(function(t){if(t&&t.totals&&t.totals.total_items){var e=parseInt(t.totals.total_items)/100;a=e,d()}}).catch(function(t){}),t}).catch(function(t){throw s.includes("/wp-json/wc/store/v1/batch")&&p(),t}))})}(),d(),e(document).on("change","input.qty",function(){setTimeout(function(){d()},500)}),e(document).on("updated_cart_totals updated_checkout",function(){setTimeout(function(){d()},300)})}e(document).ready(function(){m()}),e(window).on("load",function(){setTimeout(m,500)})}(jQuery)})();