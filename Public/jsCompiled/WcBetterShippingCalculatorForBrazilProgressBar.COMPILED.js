!function(t){"use strict";var e=null,n=!1,o=null,r=0,a=0,i="",c="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{};c.initial_cart_total&&(r=parseFloat(c.initial_cart_total));var s="undefined"!=typeof wc_better_shipping_progress?parseFloat(wc_better_shipping_progress.min_free_shipping_value):0;function l(){for(var t,e=null,n=0,o=[".wc-block-formatted-money-amount.wc-block-components-totals-item__value",'td[data-title="Subtotal"] .woocommerce-Price-amount.amount bdi',".cart-subtotal .woocommerce-Price-amount.amount bdi",".cart-subtotal .woocommerce-Price-amount.amount",".wc-block-components-totals-item__value .wc-block-formatted-money-amount",".order-total .woocommerce-Price-amount.amount bdi",".order-total .woocommerce-Price-amount.amount"];n<o.length;n++){var a=o[n];if((e=document.querySelector(a))&&e.textContent.trim())break}if(!e||!e.textContent.trim())return r||0;var i=(null===(t=window.wcSettings)||void 0===t?void 0:t.currency)||{},c=i.decimalSeparator||",",s=i.thousandSeparator||".",l="."===c||","===c?c:",",u="."===s||","===s?s:".",d=e.textContent.trim().replace(new RegExp("\\".concat(u),"g"),"").replace(new RegExp("\\".concat(l)),".").replace(/[^\d.-]/g,""),m=parseFloat(d)||0;return r=m,m}function u(){var t=r||l(),o=0,c="",u="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{},d=u.currency_symbol||"R$",m=u.min_free_shipping_success_message||"Parabéns! Você tem frete grátis!",p=u.min_free_shipping_message||"Falta(m) apenas mais {value} para obter FRETE GRÁTIS";if(p.includes("{value}")||(p="Falta(m) apenas mais {value} para obter FRETE GRÁTIS"),n)o=a,c="Carregando...";else{if(s<=0)o=100,c=m;else if(o=Math.min(t/s*100,100),t>=s)c=m;else{var g=d+(s-t).toFixed(2);c=p.replace("{value}",g)}a=o,i=c}var h=document.querySelector(".wc-better-shipping-progress-bar");if(h){if(e!==o||n){var f=h.querySelector(".wc-better-shipping-progress");f&&(n?(f.classList.add("loading"),f.style.background="linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%)",f.style.backgroundSize="200% 100%",f.style.animation="loading-shimmer 1.5s ease-in-out infinite"):(f.classList.remove("loading"),f.style.width=o+"%",f.style.background="#4caf50",f.style.animation="none"));var w=h.querySelector(".wc-better-shipping-progress-text");w&&(w.textContent=c),e=o}}else{var b=document.createElement("div");b.className="wc-better-shipping-progress-bar",b.style.margin="15px 0px",b.style.padding="0px 16px";var _=document.createElement("div");_.style.background="#eee",_.style.borderRadius="4px",_.style.overflow="hidden",_.style.height="20px";var y=document.createElement("div");y.className="wc-better-shipping-progress",y.style.background="#4caf50",y.style.width=o+"%",y.style.height="100%",y.style.transition="width 0.5s ease-in-out",n&&(y.style.background="linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%)",y.style.backgroundSize="200% 100%",y.style.animation="loading-shimmer 1.5s ease-in-out infinite"),_.appendChild(y);var v=document.createElement("div");if(v.className="wc-better-shipping-progress-text",v.style.marginTop="5px",v.style.fontSize="14px",v.textContent=c,b.appendChild(_),b.appendChild(v),!document.getElementById("wc-better-progress-styles")){var k=document.createElement("style");k.id="wc-better-progress-styles",k.textContent="\n\t\t\t\t\t@keyframes loading-shimmer {\n\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\tbackground-position: -200% 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\tbackground-position: 200% 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.wc-better-shipping-progress.loading {\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%) !important;\n\t\t\t\t\t\tbackground-size: 200% 100% !important;\n\t\t\t\t\t\tanimation: loading-shimmer 1.5s ease-in-out infinite !important;\n\t\t\t\t\t}\n\t\t\t\t",document.head.appendChild(k)}var x=document.querySelectorAll(".cart-collaterals .cart_totals h2");x.length>0&&(b.style.padding="0px",x.forEach(function(t){t.parentNode.insertBefore(b,t)})),(x=document.querySelectorAll(".woocommerce-checkout-review-order")).length>0&&(b.style.padding="0px",x.forEach(function(t){t.parentNode.insertBefore(b,t)})),(x=document.querySelectorAll(".wp-block-woocommerce-cart-order-summary-heading-block")).length>0&&(b.style.padding="0px",x.forEach(function(t){t.parentNode.insertBefore(b,t)})),(x=document.querySelectorAll(".wc-block-components-checkout-order-summary__title")).length>0&&(b.style.padding="0px 10px",x.forEach(function(t){t.parentNode.insertBefore(b,t)}))}}function d(){n=!1,o&&(clearTimeout(o),o=null),setTimeout(function(){u()},200)}function m(){!function(){if(0===a&&""===i){var t=r,e=c.currency_symbol||"R$",n=c.min_free_shipping_success_message||"Parabéns! Você tem frete grátis!",o=c.min_free_shipping_message||"Falta(m) apenas mais {value} para obter FRETE GRÁTIS";if(o.includes("{value}")||(o="Falta(m) apenas mais {value} para obter FRETE GRÁTIS"),s<=0)a=100,i=n;else if(a=Math.min(t/s*100,100),t>=s)i=n;else{var l=e+(s-t).toFixed(2);i=o.replace("{value}",l)}}}(),function(){var e,a,i="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{},c=!i.has_cart_block;i.current_url||window.location.href,c?(a=new MutationObserver(function(t){t.forEach(function(t){"childList"!==t.type&&"characterData"!==t.type||document.querySelectorAll(['td[data-title="Subtotal"] .woocommerce-Price-amount.amount bdi',".cart-subtotal .woocommerce-Price-amount.amount bdi",".order-total .woocommerce-Price-amount.amount bdi"].join(",")).length>0&&(clearTimeout(window.wcProgressBarTimeout),window.wcProgressBarTimeout=setTimeout(function(){r=l(),u()},500))})}),document.querySelectorAll(".cart, .checkout, .woocommerce-cart, .woocommerce-checkout").forEach(function(t){a.observe(t,{childList:!0,subtree:!0,characterData:!0})}),t(document).on("updated_cart_totals updated_checkout",function(){setTimeout(function(){r=l(),u()},300)})):(e=window.fetch,window.fetch=function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var c=a[0];if(a[1],!c||!c.includes("/wp-json/wc/store/v1/batch")&&!c.includes("/wp-json/wc/store/v1/cart")||c.includes("braspag")||c.includes("cardinalcommerce"))return e.apply(this,a);var s=window.location.hostname,l="";try{l=c.startsWith("http")?new URL(c).hostname:s}catch(t){l=s}return l!==s?e.apply(this,a):(c.includes("/wp-json/wc/store/v1/batch")&&(n=!0,o&&clearTimeout(o),u(),o=setTimeout(function(){d()},5e3)),e.apply(this,a).then(function(t){var e=t.clone();return c.includes("/wp-json/wc/store/v1/batch")?e.json().then(function(t){if(t&&t.responses&&t.responses[0]&&t.responses[0].body){var e=t.responses[0].body;if(e.totals&&e.totals.total_items){var n=parseInt(e.totals.total_items)/100;r=n,setTimeout(function(){d()},300)}}}).catch(function(t){d()}):c.includes("/wp-json/wc/store/v1/cart")&&e.json().then(function(t){if(t&&t.totals&&t.totals.total_items){var e=parseInt(t.totals.total_items)/100;r=e,u()}}).catch(function(t){}),t}).catch(function(t){throw c.includes("/wp-json/wc/store/v1/batch")&&d(),t}))})}(),u(),t(document).on("change","input.qty",function(){setTimeout(function(){u()},500)}),t(document).on("updated_cart_totals updated_checkout",function(){setTimeout(function(){u()},300)})}t(document).ready(function(){m()}),t(window).on("load",function(){setTimeout(m,500)})}(jQuery);