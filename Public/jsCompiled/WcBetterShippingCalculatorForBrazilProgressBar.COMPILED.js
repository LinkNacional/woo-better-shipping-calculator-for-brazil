!function(t){"use strict";var e=null,o=!1,n=null,r=0,a=0,i="",s="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{};s.initial_cart_total&&(r=parseFloat(s.initial_cart_total));var c="undefined"!=typeof wc_better_shipping_progress?parseFloat(wc_better_shipping_progress.min_free_shipping_value):0;function l(){for(var t,e=null,o=0,n=[".wc-block-formatted-money-amount.wc-block-components-totals-item__value",'td[data-title="Subtotal"] .woocommerce-Price-amount.amount bdi',".cart-subtotal .woocommerce-Price-amount.amount bdi",".cart-subtotal .woocommerce-Price-amount.amount",".wc-block-components-totals-item__value .wc-block-formatted-money-amount",".order-total .woocommerce-Price-amount.amount bdi",".order-total .woocommerce-Price-amount.amount"];o<n.length;o++){var a=n[o];if((e=document.querySelector(a))&&e.textContent.trim())break}if(!e||!e.textContent.trim())return r||0;var i=(null===(t=window.wcSettings)||void 0===t?void 0:t.currency)||{},s=i.decimalSeparator||",",c=i.thousandSeparator||".",l="."===s||","===s?s:",",u="."===c||","===c?c:".",d=e.textContent.trim().replace(new RegExp("\\".concat(u),"g"),"").replace(new RegExp("\\".concat(l)),".").replace(/[^\d.-]/g,""),p=parseFloat(d)||0;return r=p,p}function u(){var t=r||l(),n=0,s="",u="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{},d=u.currency_symbol||"R$",p=u.min_free_shipping_success_message||"Parabéns! Você tem frete grátis!",m=u.min_free_shipping_message||"Falta(m) apenas mais {value} para obter FRETE GRÁTIS";m.includes("{value}")||(m="Falta(m) apenas mais {value} para obter FRETE GRÁTIS");var g="";if(o)n=a,s="Carregando...",g="Carregando...";else{if(c<=0)n=100,s=p,g="Completo!";else if(n=Math.min(t/c*100,100),t>=c)s=p,g="Completo!";else{var f=d+(c-t).toFixed(2);s=m.replace("{value}",f),g="Falta "+f}a=n,i=s}var h=document.querySelector(".wc-better-shipping-progress-bar");if(h){if(e!==n||o){var w=h.querySelector(".wc-better-shipping-progress");w&&(o?(w.classList.add("loading"),w.style.background="linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%)",w.style.backgroundSize="200% 100%",w.style.animation="loading-shimmer 1.5s ease-in-out infinite"):(w.classList.remove("loading"),w.style.width=n+"%",w.style.background="#4caf50",w.style.animation="none"));var y=h.querySelector(".wc-better-shipping-progress-inner-text");y&&(y.textContent=g);var b=h.querySelector(".wc-better-shipping-progress-text");b&&(b.textContent=s),e=n}}else{var _=document.createElement("div");_.className="wc-better-shipping-progress-bar",_.style.margin="15px 0px",_.style.padding="0px 16px";var v=document.createElement("div");v.style.background="#eee",v.style.borderRadius="4px",v.style.overflow="hidden",v.style.height="20px",v.style.position="relative";var x=document.createElement("div");x.className="wc-better-shipping-progress",x.style.background="#4caf50",x.style.width=n+"%",x.style.height="100%",x.style.transition="width 0.5s ease-in-out",o&&(x.style.background="linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%)",x.style.backgroundSize="200% 100%",x.style.animation="loading-shimmer 1.5s ease-in-out infinite");var k=document.createElement("div");k.className="wc-better-shipping-progress-inner-text",k.style.position="absolute",k.style.top="50%",k.style.left="8px",k.style.transform="translateY(-50%)",k.style.fontSize="12px",k.style.fontWeight="bold",k.style.color="#fff",k.style.textShadow="1px 1px 2px rgba(0,0,0,0.5)",k.style.whiteSpace="nowrap",k.style.zIndex="10",k.textContent=g,v.appendChild(x),v.appendChild(k);var S=document.createElement("div");if(S.className="wc-better-shipping-progress-text",S.style.marginTop="5px",S.style.fontSize="14px",S.textContent=s,_.appendChild(v),_.appendChild(S),!document.getElementById("wc-better-progress-styles")){var E=document.createElement("style");E.id="wc-better-progress-styles",E.textContent="\n\t\t\t\t\t@keyframes loading-shimmer {\n\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\tbackground-position: -200% 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\tbackground-position: 200% 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.wc-better-shipping-progress.loading {\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #ddd 0%, #aaa 50%, #ddd 100%) !important;\n\t\t\t\t\t\tbackground-size: 200% 100% !important;\n\t\t\t\t\t\tanimation: loading-shimmer 1.5s ease-in-out infinite !important;\n\t\t\t\t\t}\n\t\t\t\t",document.head.appendChild(E)}var T=document.querySelectorAll(".cart-collaterals .cart_totals h2");T.length>0&&(_.style.padding="0px",T.forEach(function(t){t.parentNode.insertBefore(_,t)})),(T=document.querySelectorAll(".woocommerce-checkout-review-order")).length>0&&(_.style.padding="0px",T.forEach(function(t){t.parentNode.insertBefore(_,t)})),(T=document.querySelectorAll(".wp-block-woocommerce-cart-order-summary-heading-block")).length>0&&(_.style.padding="0px",T.forEach(function(t){t.parentNode.insertBefore(_,t)})),(T=document.querySelectorAll(".wc-block-components-checkout-order-summary__title")).length>0&&(_.style.padding="0px 10px",T.forEach(function(t){t.parentNode.insertBefore(_,t)}))}}function d(){o=!1,n&&(clearTimeout(n),n=null),setTimeout(function(){u()},200)}function p(){!function(){if(0===a&&""===i){var t=r,e=s.currency_symbol||"R$",o=s.min_free_shipping_success_message||"Parabéns! Você tem frete grátis!",n=s.min_free_shipping_message||"Falta(m) apenas mais {value} para obter FRETE GRÁTIS";if(n.includes("{value}")||(n="Falta(m) apenas mais {value} para obter FRETE GRÁTIS"),c<=0)a=100,i=o;else if(a=Math.min(t/c*100,100),t>=c)i=o;else{var l=e+(c-t).toFixed(2);i=n.replace("{value}",l)}}}(),function(){var e,a,i="undefined"!=typeof wc_better_shipping_progress?wc_better_shipping_progress:{},s=!i.has_cart_block;i.current_url||window.location.href,s?(a=new MutationObserver(function(t){t.forEach(function(t){"childList"!==t.type&&"characterData"!==t.type||document.querySelectorAll(['td[data-title="Subtotal"] .woocommerce-Price-amount.amount bdi',".cart-subtotal .woocommerce-Price-amount.amount bdi",".order-total .woocommerce-Price-amount.amount bdi"].join(",")).length>0&&(clearTimeout(window.wcProgressBarTimeout),window.wcProgressBarTimeout=setTimeout(function(){r=l(),u()},500))})}),document.querySelectorAll(".cart, .checkout, .woocommerce-cart, .woocommerce-checkout").forEach(function(t){a.observe(t,{childList:!0,subtree:!0,characterData:!0})}),t(document).on("updated_cart_totals updated_checkout",function(){setTimeout(function(){r=l(),u()},300)})):(e=window.fetch,window.fetch=function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var s=a[0];if(a[1],!s||!s.includes("/wp-json/wc/store/v1/batch")&&!s.includes("/wp-json/wc/store/v1/cart")||s.includes("braspag")||s.includes("cardinalcommerce"))return e.apply(this,a);var c=window.location.hostname,l="";try{l=s.startsWith("http")?new URL(s).hostname:c}catch(t){l=c}return l!==c?e.apply(this,a):(s.includes("/wp-json/wc/store/v1/batch")&&(o=!0,n&&clearTimeout(n),u(),n=setTimeout(function(){d()},5e3)),e.apply(this,a).then(function(t){var e=t.clone();return s.includes("/wp-json/wc/store/v1/batch")?e.json().then(function(t){if(t&&t.responses&&t.responses[0]&&t.responses[0].body){var e=t.responses[0].body;if(e.totals&&e.totals.total_items){var o=parseInt(e.totals.total_items)/100;r=o,setTimeout(function(){d()},300)}}}).catch(function(t){d()}):s.includes("/wp-json/wc/store/v1/cart")&&e.json().then(function(t){if(t&&t.totals&&t.totals.total_items){var e=parseInt(t.totals.total_items)/100;r=e,u()}}).catch(function(t){}),t}).catch(function(t){throw s.includes("/wp-json/wc/store/v1/batch")&&d(),t}))})}(),u(),t(document).on("change","input.qty",function(){setTimeout(function(){u()},500)}),t(document).on("updated_cart_totals updated_checkout",function(){setTimeout(function(){u()},300)})}t(document).ready(function(){p()}),t(window).on("load",function(){setTimeout(p,500)})}(jQuery);