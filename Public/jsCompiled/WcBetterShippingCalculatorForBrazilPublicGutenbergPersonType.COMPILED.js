document.addEventListener("DOMContentLoaded",function(){var e=!1,t=!1,n=null,o=null,i=null,r=!1,l={billing_persontype:"0",billing_cpf:"",billing_cnpj:"",billing_document:"",billing_company:""};new MutationObserver(function(e){var t=document.querySelector("#shipping-company");if(t){var n=t.closest(".wc-block-components-text-input");n&&(n.style.padding="0",n.style.margin="0",n.style.display="none")}}).observe(document.body,{childList:!0,subtree:!0});var a=null;function c(t,n){a&&a.disconnect(),t&&(a=new MutationObserver(function(t){if(p()){var o=!1;t.forEach(function(e){"childList"===e.type&&(e.addedNodes.length>0||e.removedNodes.length>0)&&(o=!0)}),o&&setTimeout(function(){var t=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="'.concat(n,'"]')),o=document.getElementById("billing_document");if(t&&"true"===t.getAttribute("aria-expanded")&&!o){var i=document.querySelector("#".concat(n));i&&(r=!1,e=!1,g(i,n),setTimeout(function(){var e=document.getElementById("billing_document");if(e&&e.value){var t=b(e.value.replace(/\D/g,""),"undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both");f(e.value,t),T(!0)}},400))}},200)}})).observe(t,{childList:!0,subtree:!0,attributes:!1})}function s(e){var t=e.replace(/[^0-9]/g,"");if(11===t.length){var n=function(e){if(11!==(e=e.replace(/[^0-9]/g,"")).length)return!1;if(/^(\d)\1{10}$/.test(e))return!1;for(var t=0,n=0;n<9;n++)t+=parseInt(e[n])*(10-n);var o=11-t%11;if(o>=10&&(o=0),parseInt(e[9])!==o)return!1;t=0;for(var i=0;i<10;i++)t+=parseInt(e[i])*(11-i);var r=11-t%11;return r>=10&&(r=0),parseInt(e[10])===r}(t);return{isValid:n,type:"cpf",message:n?"":"CPF inválido. Verifique os números informados."}}if(14===t.length){var o=function(e){if(14!==(e=e.replace(/[^0-9]/g,"")).length)return!1;if(/^(\d)\1{13}$/.test(e))return!1;for(var t=[5,4,3,2,9,8,7,6,5,4,3,2],n=[6,5,4,3,2,9,8,7,6,5,4,3,2],o=0,i=0;i<12;i++)o+=parseInt(e[i])*t[i];var r=o%11;if(r=r<2?0:11-r,parseInt(e[12])!==r)return!1;o=0;for(var l=0;l<13;l++)o+=parseInt(e[l])*n[l];var a=o%11;return a=a<2?0:11-a,parseInt(e[13])===a}(t);return{isValid:o,type:"cnpj",message:o?"":"CNPJ inválido. Verifique os números informados."}}return{isValid:!1,type:null,message:"Documento deve ter 11 dígitos (CPF) ou 14 dígitos (CNPJ)."}}function u(){var e=document.getElementById("billing_document");if(!e||!e.value.trim())return!1;var t=e.value.trim().replace(/\D/g,"");if("cnpj"===b(t,"undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both")&&14===t.length){var n=s(t);return n.isValid&&"cnpj"===n.type}return!1}function d(){var e=document.querySelector('input[type="checkbox"][id^="checkbox-control"]');return!(!e||!e.closest(".wc-block-checkout__use-address-for-billing"))&&e.checked}function p(){var e=document.querySelector("#billing-country")||document.querySelector("#shipping-country")||document.querySelector('select[name="billing_country"]')||document.querySelector('select[name="shipping_country"]')||document.querySelector('input[name="billing_country"]')||document.querySelector('input[name="shipping_country"]');return!!e&&"BR"===e.value}function m(){var t=document.querySelector(".wc-better-billing-document"),n=document.querySelector(".wc-better-billing-company"),o=document.getElementById("billing-persontype"),i=document.getElementById("billing-cpf"),l=document.getElementById("billing-cnpj");t&&t.remove(),n&&n.remove(),o&&o.remove(),i&&i.remove(),l&&l.remove(),r=!1,e=!1,a&&(a.disconnect(),a=null),function(){var e={billing_persontype:"0",billing_cpf:"",billing_cnpj:"",billing_company:""};if("undefined"!=typeof wp&&wp.data&&wp.data.dispatch)try{var t=wp.data.dispatch;if(t("wc/store/checkout")){var n=t("wc/store/checkout");n.setExtensionData&&n.setExtensionData("woo_better_person_type",e)}}catch(e){}window.wc&&window.wc.blocksCheckout&&"function"==typeof window.wc.blocksCheckout.extensionCartUpdate&&window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_person_type",data:e})}()}function g(t,n){if(p()){var o=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="'.concat(n,'"]'));o&&("true"!=o.getAttribute("aria-expanded")&&o.click(),"true"==o.getAttribute("aria-expanded")&&(setTimeout(function(){y(t,n)},300),e=!0,c(t,n)))}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"billing";if(p()&&!document.getElementById("billing_document")){var n=e.querySelector("#".concat(t,"-last_name"));if(n){var o="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_persontype?WooBetterPersonTypeData.billing_persontype:"0",i="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_cpf?WooBetterPersonTypeData.billing_cpf:"",a="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_cnpj?WooBetterPersonTypeData.billing_cnpj:"",c="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_company?WooBetterPersonTypeData.billing_company:"",s="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_document?WooBetterPersonTypeData.billing_document:"";l.billing_document?(o=l.billing_persontype,i=l.billing_cpf,a=l.billing_cnpj,c=l.billing_company):(l.billing_persontype=o,l.billing_cpf=i,l.billing_cnpj=a,l.billing_company=c,s?l.billing_document=s:"1"===o&&i?l.billing_document=i:"2"===o&&a?l.billing_document=a:i?l.billing_document=i:a&&(l.billing_document=a));var d="undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both",m=("undefined"==typeof WooBetterPersonTypeConfig||WooBetterPersonTypeConfig.show_select,n.parentElement);s=s||l.billing_document||"";var g=l.billing_persontype||"0";g&&"0"!==g||(i?(s=i,g="1"):a&&(s=a,g="2")),function(e,t,n){var o=document.createElement("div");o.className="wc-block-components-text-input wc-block-components-address-form__document wc-better-billing-document";var i=document.createElement("input");i.type="text",i.id="billing_document",i.setAttribute("autocomplete","off"),i.setAttribute("aria-label","CPF/CNPJ"),i.setAttribute("aria-invalid","false"),i.setAttribute("autocapitalize","none"),i.value=t;var r="",a="";"physical"===n?(r="Digite seu CPF no formato 000.000.000-00",a="CPF"):"legal"===n?(r="Digite seu CNPJ no formato 00.000.000/0000-00",a="CNPJ"):(r="Digite seu CPF (000.000.000-00) ou CNPJ (00.000.000/0000-00)",a="CPF/CNPJ"),i.setAttribute("title",r);var c=t;i.addEventListener("input",function(){var e,t=b(this.value.replace(/\D/g,""),n);e="cpf"===t?C(this.value):"cnpj"===t?B(this.value):v(this.value,n),this.value=e,l.billing_document=e,e!==c&&(c=e,f(e,t),T(),P(e,n))});var s=document.createElement("label");s.setAttribute("for","billing_document"),s.textContent=a,o.appendChild(i),o.appendChild(s);var u=document.createElement("div");u.className="wc-block-components-validation-error wc-better-document-error",u.setAttribute("role","alert"),u.style.display="none";var d=document.createElement("p");d.id="validate-error-billing_document";var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.setAttribute("viewBox","-2 -2 24 24"),p.setAttribute("width","24"),p.setAttribute("height","24"),p.setAttribute("aria-hidden","true"),p.setAttribute("focusable","false");var m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d","M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"),p.appendChild(m);var g=document.createElement("span");g.textContent="Por favor, insira um documento válido.",d.appendChild(p),d.appendChild(g),u.appendChild(d),o.appendChild(u),t&&o.classList.add("is-active"),i.addEventListener("focus",function(){o.classList.add("is-active")}),i.addEventListener("blur",function(){i.value||(o.classList.remove("is-active"),w("physical"===n?"Por favor insira um CPF válido":"legal"===n?"Por favor insira um CNPJ válido":"Por favor insira um CPF/CNPJ válido"))}),e.insertAdjacentElement("afterend",o)}(m,s,d);var y=document.querySelector(".wc-better-billing-document");y&&(m=y);var E=function(e,t,n){if("physical"!==n){var o=document.getElementById("billing-company"),i=o?o.closest(".wc-block-components-text-input"):null;if(o&&i&&(!t&&o.value&&(t=o.value),i.remove()),document.querySelector(".wc-better-billing-company"))return document.querySelector(".wc-better-billing-company");var r=document.createElement("div");r.className="wc-block-components-text-input wc-block-components-address-form__company wc-better-billing-company";var a="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_cnpj?WooBetterPersonTypeData.billing_cnpj:"",c=l.billing_document||"",s=!1;a&&14===a.replace(/\D/g,"").length&&(s=!0),c&&!s&&14===c.replace(/\D/g,"").length&&(s=!0),r.style.display=s?"block":"none",r.style.borderColor="";var d=document.createElement("input");d.type="text",d.id="billing-company",d.name="billing_company",d.setAttribute("autocomplete","organization"),d.setAttribute("aria-label","Nome da Empresa"),d.setAttribute("aria-invalid","false"),d.setAttribute("autocapitalize","words"),d.value=t,d.style.borderColor="",s&&d.value&&d.value.trim()&&r.classList.add("is-active");var p=document.createElement("label");p.setAttribute("for","billing-company"),p.textContent="Nome da Empresa",r.appendChild(d),r.appendChild(p);var m=document.createElement("div");m.className="wc-block-components-validation-error wc-better-company-error",m.setAttribute("role","alert"),m.style.display="none";var g=document.createElement("p");g.id="validate-error-billing-company";var y=document.createElementNS("http://www.w3.org/2000/svg","svg");y.setAttribute("xmlns","http://www.w3.org/2000/svg"),y.setAttribute("viewBox","-2 -2 24 24"),y.setAttribute("width","24"),y.setAttribute("height","24"),y.setAttribute("aria-hidden","true"),y.setAttribute("focusable","false");var v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d","M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"),y.appendChild(v);var w=document.createElement("span");return w.textContent="Este campo é obrigatório.",g.appendChild(y),g.appendChild(w),m.appendChild(g),r.appendChild(m),t&&r.classList.add("is-active"),d.addEventListener("focus",function(){r.classList.add("is-active")}),d.addEventListener("blur",function(){if(d.value&&d.value.trim())_(),r.classList.remove("has-error"),d.style&&(d.style.borderColor=""),d.setAttribute("aria-invalid","false");else{r.classList.remove("is-active");var e=u();"block"===r.style.display&&e?(h("Este campo é obrigatório para CNPJ."),r.classList.add("has-error"),d.style&&(d.style.borderColor="#d63638"),d.setAttribute("aria-invalid","true")):(_(),r.classList.remove("has-error"),d.style&&(d.style.borderColor=""),d.setAttribute("aria-invalid","false"))}}),d.addEventListener("input",function(){l.billing_company=d.value;var e=document.getElementById("billing_document");if(e&&e.value){var t=b(e.value.replace(/\D/g,""),"undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both");f(e.value,t)}T(),d.value&&d.value.trim()&&r.classList.add("is-active"),d.value&&d.value.trim()&&(_(),r.classList.remove("has-error"),d.style&&(d.style.borderColor=""),d.setAttribute("aria-invalid","false")),r.classList.remove("has-error"),d.style.borderColor="",d.setAttribute("aria-invalid","false")}),e.insertAdjacentElement("afterend",r),r}}(m,c,d);E&&(m=E);var L=document.createElement("input");L.type="hidden",L.id="billing-persontype",L.name="billing-persontype",L.value=g||function(e){return"physical"===e?"1":"legal"===e?"2":"0"}(d),m.insertAdjacentElement("afterend",L);var D=document.createElement("input");D.type="hidden",D.id="billing-cpf",D.name="billing-cpf",D.value=i,L.insertAdjacentElement("afterend",D);var q,A=document.createElement("input");A.type="hidden",A.id="billing-cnpj",A.name="billing-cnpj",A.value=a,D.insertAdjacentElement("afterend",A),(q=document.getElementById("billing_document"))&&q.addEventListener("blur",function(){var e="undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both",t=this.value.replace(/\D/g,""),n=b(t,e);"both"!==e||n&&("cpf"===n&&11===t.length||"cnpj"===n&&14===t.length)?this.setAttribute("required","true"):"both"===e&&this.removeAttribute("required")}),r=!0,s&&setTimeout(function(){var e=document.getElementById("billing_document");if(e){var t=new Event("input",{bubbles:!0});e.dispatchEvent(t);var n=b(e.value.replace(/\D/g,""),d);f(e.value,n)}},100),setTimeout(function(){var e=document.getElementById("billing_document");if(e&&e.value){var t=b(e.value.replace(/\D/g,""),d);f(e.value,t),T(!0)}else T(!0)},200),T(!0)}}}function b(e,t){return"physical"===t?"cpf":"legal"===t?"cnpj":e.length>=11&&e.length<=11?"cpf":e.length>=14||e.length>11?"cnpj":null}function v(e,t){var n=e.replace(/\D/g,"");return"physical"===t?C(e):"legal"===t?B(e):n.length<=11?C(e):B(e)}function f(e,t){var n=document.getElementById("billing-persontype"),o=document.getElementById("billing-cpf"),i=document.getElementById("billing-cnpj"),r=document.getElementById("billing-company"),a=document.querySelector(".wc-better-billing-company");!a&&r&&(a=r.closest(".wc-block-components-text-input")||r.closest(".wc-better-company-controlled")||r.parentElement);var c=14===e.replace(/\D/g,"").length;if(a&&r&&(c?(a.style.display="block",l.billing_company&&!r.value&&function(e,t){if(e){Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(e,t);var n=new Event("input",{bubbles:!0});e.dispatchEvent(n)}}(r,l.billing_company),r.value&&r.value.trim()?a.classList.add("is-active"):a.classList.remove("is-active")):(a.style.display="none",a.classList.remove("is-active"),a.classList.remove("has-error"),r.style&&(r.style.borderColor=""),r.setAttribute("aria-invalid","false"),_())),"cpf"===t)n&&(n.value="1"),o&&(o.value=e),i&&(i.value=""),l.billing_persontype="1",l.billing_cpf=e,l.billing_cnpj="";else if("cnpj"===t)n&&(n.value="2"),o&&(o.value=""),i&&(i.value=e),l.billing_persontype="2",l.billing_cpf="",l.billing_cnpj=e;else{var s="undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both";if("physical"===s)n&&(n.value="1"),o&&(o.value=e),i&&(i.value=""),l.billing_persontype="1",l.billing_cpf=e,l.billing_cnpj="";else if("legal"===s)n&&(n.value="2"),o&&(o.value=""),i&&(i.value=e),l.billing_persontype="2",l.billing_cpf="",l.billing_cnpj=e;else{var u=e.replace(/\D/g,"");u.length<=11?(n&&(n.value=11===u.length?"1":"0"),o&&(o.value=e),i&&(i.value=""),l.billing_persontype=11===u.length?"1":"0",l.billing_cpf=e,l.billing_cnpj=""):(n&&(n.value=14===u.length?"2":"0"),o&&(o.value=""),i&&(i.value=e),l.billing_persontype=14===u.length?"2":"0",l.billing_cpf="",l.billing_cnpj=e)}}l.billing_document=e}function h(e){var t=document.querySelector(".wc-better-company-error"),n=document.querySelector(".wc-better-billing-company")||document.querySelector(".wc-better-company-controlled");if(t){var o=t.querySelector("span");o&&(o.textContent=e),t.style.display="block"}n&&n.classList.add("has-error")}function _(){var e=document.querySelector(".wc-better-company-error"),t=document.querySelector(".wc-better-billing-company")||document.querySelector(".wc-better-company-controlled");e&&(e.style.display="none"),t&&t.classList.remove("has-error")}function w(e){var t=document.querySelector(".wc-better-document-error"),n=document.querySelector(".wc-better-billing-document");if(t){var o=t.querySelector("span");o&&(o.textContent=e),t.style.display="block"}n&&n.classList.add("has-error")}function E(){var e=document.querySelector(".wc-better-document-error"),t=document.querySelector(".wc-better-billing-document");e&&(e.style.display="none"),t&&t.classList.remove("has-error")}function P(e,t){var n=e.replace(/\D/g,""),o=!1;e.length>0&&("physical"===t?o=11===n.length:"legal"===t?o=14===n.length:"both"===t&&(o=11===n.length||14===n.length)),o&&E()}function C(e){return e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}function B(e){return e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p()&&(o&&(clearTimeout(o),o=null),e?L():o=setTimeout(function(){L(),o=null},1500))}function L(){if(p()){var e=document.getElementById("billing-persontype"),t=document.getElementById("billing-cpf"),n=document.getElementById("billing-cnpj"),o=document.getElementById("billing-company"),i={billing_persontype:e?e.value:"",billing_cpf:t?t.value:"",billing_cnpj:n?n.value:"",billing_company:o?o.value:""};if("undefined"!=typeof wp&&wp.data&&wp.data.dispatch)try{var r=wp.data.dispatch;if(r("wc/store/checkout")){var l=r("wc/store/checkout");l.setExtensionData&&l.setExtensionData("woo_better_person_type",i)}}catch(e){}window.wc&&window.wc.blocksCheckout&&"function"==typeof window.wc.blocksCheckout.extensionCartUpdate&&window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_person_type",data:i})}}new MutationObserver(function(o){if(p()){var l=document.querySelector("#billing"),a=document.querySelector("#shipping"),b=d(),v=b?a:l,f=b?"shipping":"billing";if(v||(e=!1,r=!1),v&&!e&&g(v,f),v&&e){var P=document.getElementById("billing_document"),C=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="'.concat(f,'"]'));C&&"true"===C.getAttribute("aria-expanded")&&!P&&(r=!1,e=!1,setTimeout(function(){g(v,f)},100))}if(v&&e&&r){var B=v.querySelector("#".concat(f,"-last_name")),T=document.getElementById("billing_document");if(B&&!T){var L=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="'.concat(f,'"]'));L&&"true"===L.getAttribute("aria-expanded")&&(r=!1,setTimeout(function(){y(v,f),function(){var e=document.querySelector("#billing");e&&c(e,"billing")}()},200))}}var D=document.querySelector('.wc-block-checkout__use-address-for-billing input[type="checkbox"]');D&&!D.dataset.personTypeListener&&(D.addEventListener("change",function(){setTimeout(function(){if(r){m();var e=d(),t=e?document.querySelector("#shipping"):document.querySelector("#billing");t&&g(t,e?"shipping":"billing")}},300)}),D.dataset.personTypeListener="true"),(document.querySelector("#billing-country")||document.querySelector("#shipping-country"))&&!i&&function(){var e=document.querySelector("#billing-country"),t=document.querySelector("#shipping-country");function n(){if(p()){if(!r){var e=d(),t=e?document.querySelector("#shipping"):document.querySelector("#billing");t&&g(t,e?"shipping":"billing")}}else r&&m()}if(e&&!e.dataset.personTypeListener&&(e.addEventListener("change",function(){setTimeout(function(){n()},300)}),e.dataset.personTypeListener="true"),t&&!t.dataset.personTypeListener&&(t.addEventListener("change",function(){setTimeout(function(){n()},300)}),t.dataset.personTypeListener="true"),!i){i=new MutationObserver(function(e){e.forEach(function(e){"childList"!==e.type&&"attributes"!==e.type||setTimeout(function(){var e=document.querySelector("#billing-country"),t=document.querySelector("#shipping-country");e&&!e.dataset.personTypeListener&&(e.addEventListener("change",function(){setTimeout(function(){n()},300)}),e.dataset.personTypeListener="true"),t&&!t.dataset.personTypeListener&&(t.addEventListener("change",function(){setTimeout(function(){n()},300)}),t.dataset.personTypeListener="true")},100)})});var o=document.querySelector("#billing"),l=document.querySelector("#shipping");o&&i.observe(o,{childList:!0,subtree:!0,attributes:!0}),l&&i.observe(l,{childList:!0,subtree:!0,attributes:!0})}}();var q=document.querySelector(".wc-block-checkout__actions_row");q&&(n=q.querySelector("button")),n&&!t&&(t=!0,n&&n.addEventListener("click",function(e){if(p()){document.getElementById("billing-persontype");var t=document.getElementById("billing_document");if(t){var n=t.value.trim(),o=n.replace(/\D/g,""),i="undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both",r=!1,l="";if(n.length){if("physical"===i)if(11===o.length){var a=s(o);a.isValid&&"cpf"===a.type?r=!0:l=a.message||"CPF inválido."}else l="Por favor, insira um CPF válido com 11 dígitos.";else if("legal"===i)if(14===o.length){var c=s(o);c.isValid&&"cnpj"===c.type?r=!0:l=c.message||"CNPJ inválido."}else l="Por favor, insira um CNPJ válido com 14 dígitos.";else if("both"===i)if(11===o.length||14===o.length){var d=s(o);d.isValid?r=!0:l=d.message||"Documento inválido."}else l="Por favor, insira um CPF completo (11 dígitos) ou CNPJ completo (14 dígitos)."}else l="Por favor, insira seu CPF ou CNPJ.","physical"===i?l="Por favor, insira seu CPF.":"legal"===i&&(l="Por favor, insira seu CNPJ.");if(!r)return e.stopPropagation(),e.preventDefault(),w(l),void t.scrollIntoView({behavior:"smooth",block:"center"});E()}var m=document.getElementById("billing-company"),g=document.querySelector(".wc-better-billing-company");!g&&m&&(g=m.closest(".wc-block-components-text-input")||m.closest(".wc-better-company-controlled")||m.parentElement);var y=u();if(m&&g&&y&&"block"===g.style.display){if(!m.value.trim())return e.stopPropagation(),e.preventDefault(),g.classList.add("has-error"),m.style&&(m.style.borderColor="#d63638"),m.setAttribute("aria-invalid","true"),h("Este campo é obrigatório para CNPJ."),m.scrollIntoView({behavior:"smooth",block:"center"}),void setTimeout(function(){m.focus()},300);g.classList.remove("has-error"),m.style&&(m.style.borderColor=""),m.setAttribute("aria-invalid","false"),_()}else g&&(g.classList.remove("has-error"),m&&m.style&&(m.style.borderColor=""),m&&m.setAttribute("aria-invalid","false"),_())}}))}else r&&m()}).observe(document.body,{childList:!0,subtree:!0}),function(){if(p()&&"undefined"!=typeof wp&&wp.data&&wp.data.dispatch)try{var e=wp.data,t=e.dispatch,n=e.select;if(t("wc/store/checkout")){var o=t("wc/store/checkout");if(o.setExtensionData){var i=(n("wc/store/checkout").getExtensionData()||{}).woo_better_person_type||{},r="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_persontype?WooBetterPersonTypeData.billing_persontype:"0",l="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_cpf?WooBetterPersonTypeData.billing_cpf:"",a="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_cnpj?WooBetterPersonTypeData.billing_cnpj:"",c="undefined"!=typeof WooBetterPersonTypeData&&WooBetterPersonTypeData.billing_company?WooBetterPersonTypeData.billing_company:"";i.hasOwnProperty("billing_persontype")||(i.billing_persontype=r),i.hasOwnProperty("billing_cpf")||(i.billing_cpf=l),i.hasOwnProperty("billing_cnpj")||(i.billing_cnpj=a),i.hasOwnProperty("billing_company")||(i.billing_company=c),o.setExtensionData("woo_better_person_type",i)}}}catch(e){}}(),new MutationObserver(function(e){var t=!1;e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.nodeType===Node.ELEMENT_NODE&&((e.querySelectorAll?e.querySelectorAll("#billing-persontype, #billing_document, #billing-cpf, #billing-cnpj"):[]).length>0||e.id&&("billing-persontype"===e.id||"billing_document"===e.id||"billing-cpf"===e.id||"billing-cnpj"===e.id))&&(t=!0)})}),t&&setTimeout(function(){T(!0);var e=document.getElementById("billing-persontype"),t=document.getElementById("billing_document");if(document.getElementById("billing-cpf"),document.getElementById("billing-cnpj"),e&&!e.dataset.storeApiListener&&(e.addEventListener("change",function(){return T()}),e.dataset.storeApiListener="true"),t&&!t.dataset.storeApiListener){var n=t.value;t.addEventListener("input",function(){var e,t=this.value.replace(/\D/g,""),o="undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both",i=b(t,o);e="cpf"===i?C(this.value):"cnpj"===i?B(this.value):v(this.value,o),this.value=e,e!==n&&(n=e,f(e,i),T(),P(e,o))}),t.dataset.storeApiListener="true"}},100)}).observe(document.body,{childList:!0,subtree:!0}),setTimeout(function(){if(p()){T(!0);var e=document.getElementById("billing-persontype"),t=document.getElementById("billing_document");if(document.getElementById("billing-cpf"),document.getElementById("billing-cnpj"),e&&!e.dataset.storeApiListener&&(e.addEventListener("change",function(){return T()}),e.dataset.storeApiListener="true"),t&&!t.dataset.storeApiListener){var n=t.value;t.addEventListener("input",function(){var e,t=this.value.replace(/\D/g,""),o="undefined"!=typeof WooBetterPersonTypeConfig?WooBetterPersonTypeConfig.person_type:"both",i=b(t,o);e="cpf"===i?C(this.value):"cnpj"===i?B(this.value):v(this.value,o),this.value=e,e!==n&&(n=e,f(e,i),T(),P(e,o))}),t.dataset.storeApiListener="true"}}},500)});