/*! For license information please see WcBetterShippingCalculatorForBrazilCustomCartPostcode.COMPILED.js.LICENSE.txt */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){var t,o,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function i(e,r,a,c){var i=r&&r.prototype instanceof l?r:l,d=Object.create(i.prototype);return n(d,"_invoke",function(e,n,r){var a,c,i,l=0,d=r||[],u=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return a=e,c=0,i=t,p.n=n,s}};function y(e,n){for(c=e,i=n,o=0;!u&&l&&!r&&o<d.length;o++){var r,a=d[o],y=p.p,m=a[2];e>3?(r=m===n)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=y&&((r=e<2&&y<a[1])?(c=0,p.v=n,p.n=a[1]):y<m&&(r=e<3||a[0]>n||n>m)&&(a[4]=e,a[5]=n,p.n=m,c=0))}if(r||e>1)return s;throw u=!0,n}return function(r,d,m){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&y(d,m),c=d,i=m;(o=c<2?t:i)||!u;){a||(c?c<3?(c>1&&(p.n=-1),y(c,i)):p.n=i:p.v=i);try{if(l=2,a){if(c||(r="next"),o=a[r]){if(!(o=o.call(a,i)))throw TypeError("iterator result is not an object");if(!o.done)return o;i=o.value,c<2&&(c=0)}else 1===c&&(o=a.return)&&o.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=t}else if((o=(u=p.n<0)?i:e.call(n,p))!==s)break}catch(e){a=t,c=1,i=e}finally{l=1}}return{value:o,done:u}}}(e,a,c),!0),d}var s={};function l(){}function d(){}function u(){}o=Object.getPrototypeOf;var p=[][a]?o(o([][a]())):(n(o={},a,function(){return this}),o),y=u.prototype=l.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,n(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t}return d.prototype=u,n(y,"constructor",u),n(u,"constructor",d),d.displayName="GeneratorFunction",n(u,c,"GeneratorFunction"),n(y),n(y,c,"Generator"),n(y,a,function(){return this}),n(y,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m}})()}function n(t,e,o,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}n=function(t,e,o,r){function c(e,o){n(t,e,function(t){return this._invoke(e,o,t)})}e?a?a(t,e,{value:o,enumerable:!r,configurable:!r,writable:!r}):t[e]=o:(c("next",0),c("throw",1),c("return",2))},n(t,e,o,r)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(e,n,o){return(n=function(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function c(t,e,n,o,r,a,c){try{var i=t[a](c),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(o,r)}document.addEventListener("DOMContentLoaded",function(){var t,n,o,a,i=window.WooBetterData||{},s=!1,l='h2[class*="order"]',d="",u="",p="",y="",m=null;function f(){m&&clearTimeout(m),m=setTimeout(function(){var t,e;t=_(),e=E(),Object.keys(t).forEach(function(n){var o=t[n];q(e,o.cart_data)||delete t[n]}),localStorage.setItem("woo_better_cart_postcode_cache_simple",JSON.stringify(t));var n=function(){for(var t=E(),e=JSON.stringify(t),n=0,o=0;o<e.length;o++)n=(n<<5)-n+e.charCodeAt(o),n&=n;return Math.abs(n).toString()}();y=n;var o=C();if(o&&i.enable_search&&"yes"===i.enable_search){var r=document.querySelector("#custom-postcode-form"),a=document.querySelector(".woo-better-input-current-style");if(r&&a){r.style.display="block",a.value=o;var c=document.querySelector(".woo-better-button-current-style");c&&c.click()}}m=null},2e3)}function b(){var t=document.querySelector(".woo-better-button-current-style"),e=document.querySelector(".woo-better-input-current-style");t.disabled=!1,e.disabled=!1,t.textContent=u;var n=document.querySelector(".woo-better-current-postcode-block");n&&(n.style.display="flex"),e.style.backgroundColor=i.inputStyles.backgroundColor||"#fff",e.style.cursor="",t.style.backgroundColor=i.buttonStyles.backgroundColor||"#0073aa",t.style.cursor=""}function v(t,e,n){var o=document.createElement("img");o.src=i.display_icon[e],o.alt=n,o.classList.add("woo-better-toggle-icon"),o.classList.add(i.iconColor||"black-icon"),t.appendChild(o)}function h(){var t;return t=e().m(function t(n){var o,r,a,c,s,l,u,y;return e().w(function(t){for(;;)switch(t.n){case 0:if(!(o=S(n))){t.n=1;break}return setTimeout(function(){var t=document.querySelector(".woo-better-info-block"),e=document.querySelector("#custom-postcode-form");w(o,e,t,n),b()},300),t.a(2);case 1:return r=_(),Object.keys(r).length>0&&(a=document.querySelector(".woo-better-info-block"))&&((c=a.querySelector(".woo-better-cart-name"))&&(s=c.childNodes[1])&&s.nodeType===Node.TEXT_NODE&&(s.textContent=" Carregando dados do carrinho..."),(l=a.querySelector(".woo-better-shipping-list"))&&(l.innerHTML="<li>Calculando taxas de envio...</li>"),a.style.display="block"),u=new AbortController,y=setTimeout(function(){return u.abort()},15e3),"undefined"!=typeof wpApiSettings&&wpApiSettings.root?apiUrl=wpApiSettings.root+"lknwcbettershipping/v1/cep/?postcode=".concat(n):void 0!==i&&""!==i.wooUrl?apiUrl=i.wooUrl+"/wp-json/lknwcbettershipping/v1/cep/?postcode=".concat(n):apiUrl="/wp-json/lknwcbettershipping/v1/cep/?postcode=".concat(n),t.n=2,fetch(apiUrl,{method:"GET",signal:u.signal,headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){if(clearTimeout(y),!0===t.status){d=n,addressData=t.address||"",stateData=t.state_sigla||"",cityData=t.city||"";var e=i.ajaxurl,o=new FormData;o.append("action","register_cart_address"),o.append("shipping[address_1]",addressData),o.append("shipping[city]",cityData),o.append("shipping[state]",stateData),o.append("shipping[postcode]",d),o.append("shipping[country]","BR"),fetch(e,{method:"POST",headers:{nonce:p},body:o}).then(function(t){return t.json()}).then(function(t){if(t.success){var e=document.querySelector(".woo-better-info-block"),o=document.querySelector("#custom-postcode-form");g(t.data,o,e,n).then(function(){b()}).catch(function(t){b(),t&&t.includes&&t.includes("CEP")&&alert(t)})}else if(t.data.digital){var r=document.querySelector(".woo-better-info-block"),a=document.querySelector("#custom-postcode-form");a&&(a.style.display="none");var c=r.querySelector(".woo-better-cart-quantity");if(c){var i=c.childNodes[1];i&&i.nodeType===Node.TEXT_NODE&&(i.textContent=" Quantidade: ".concat(t.data.cart_count))}if(r){var s=r.querySelector(".woo-better-current-postcode-text"),l=r.querySelector(".woo-better-shipping-list");s&&(s.innerHTML="<strong>CEP</strong>: ".concat(d)),l&&(l.innerHTML="<li>Produto digital, não há taxas de envio.</li>"),r.style.display="block";var u=r.querySelector(".woo-better-content-block");u&&(u.classList.add("expanded"),u.style.display="block")}b()}else{var p=t.data.message||"Erro ao processar as taxas de envio.";p.toLowerCase().includes("cep")&&alert(p),b()}}).catch(function(t){t.message&&t.message.toLowerCase().includes("cep")&&alert(t.message),b()})}else b(),t.message&&t.message.toLowerCase().includes("cep")&&alert("Houve um erro ao consultar o CEP.")}).catch(function(t){b(),clearTimeout(y),"AbortError"===t.name||t.message&&!t.message.toLowerCase().includes("fetch")&&alert("Erro na consulta do CEP. Tente novamente.")});case 2:return t.a(2)}},t)}),h=function(){var e=this,n=arguments;return new Promise(function(o,r){var a=t.apply(e,n);function i(t){c(a,o,r,i,s,"next",t)}function s(t){c(a,o,r,i,s,"throw",t)}i(void 0)})},h.apply(this,arguments)}function g(t,e,n,o){return new Promise(function(a,c){try{var i=t;if(!i||!Array.isArray(i.shipping_rates)||0===i.shipping_rates.length)return c("Nenhuma taxa de envio foi encontrada.");!function(t,e){var n=_(),o=E();n[t]=r(r({},e),{},{cart_data:o,timestamp:Date.now()}),localStorage.setItem("woo_better_cart_postcode_cache_simple",JSON.stringify(n))}(o,i),k(o),e.style.display="none",n.style.display="block";var s=n.querySelector(".woo-better-content-block"),l=s.querySelector(".woo-better-shipping-list"),d=n.querySelector(".woo-better-cart-quantity");if(d){var u=d.childNodes[1];u&&u.nodeType===Node.TEXT_NODE&&(u.textContent=" Quantidade: ".concat(i.cart.quantity))}l.innerHTML="",i.shipping_rates.forEach(function(t){var e=document.createElement("li"),n=parseFloat(t.cost).toFixed(i.cart.currency_minor_unit).replace(".",",");e.innerHTML="<strong>".concat(i.cart.currency_symbol," ").concat(n,"</strong> - ").concat(t.label),l.appendChild(e)}),n.querySelector(".woo-better-current-postcode-text").innerHTML="<strong>CEP</strong>: ".concat(o);var p=n.querySelector(".woo-better-toggle-button");p&&(p.innerHTML="",v(p,"up","Esconder detalhes de entrega")),s&&!s.classList.contains("expanded")?(s.style.height="0",s.style.display="block",s.offsetHeight,s.classList.add("expanded"),s.style.height="".concat(s.scrollHeight,"px"),s.addEventListener("transitionend",function(){s.classList.contains("expanded")&&(s.style.height="auto")},{once:!0})):s&&s.classList.contains("expanded")&&(s.style.height="auto",s.style.display="block"),a()}catch(t){c(t)}})}function w(t,e,n,o){try{var r=t;e.style.display="none",k(o);var a=document.querySelector(".woo-better-current-postcode-block");a&&(a.style.display="flex");var c=n.querySelector(".woo-better-content-block").querySelector(".woo-better-shipping-list"),i=n.querySelector(".woo-better-cart-quantity");if(i){var s=i.childNodes[1];s&&s.nodeType===Node.TEXT_NODE&&(s.textContent=" Quantidade: ".concat(r.cart.quantity))}c.innerHTML="",r.shipping_rates.forEach(function(t){var e=document.createElement("li"),n=parseFloat(t.cost).toFixed(r.cart.currency_minor_unit).replace(".",",");e.innerHTML="<strong>".concat(r.cart.currency_symbol," ").concat(n,"</strong> - ").concat(t.label),c.appendChild(e)}),n.querySelector(".woo-better-current-postcode-text").innerHTML="<strong>CEP</strong>: ".concat(o),n.style.display="block";var l=n.querySelector(".woo-better-toggle-button");l&&(l.innerHTML="",v(l,"up","Esconder detalhes de entrega"));var d=n.querySelector(".woo-better-content-block");d&&!d.classList.contains("expanded")?(d.style.height="0",d.style.display="block",d.offsetHeight,d.classList.add("expanded"),d.style.height="".concat(d.scrollHeight,"px"),d.addEventListener("transitionend",function(){d.classList.contains("expanded")&&(d.style.height="auto")},{once:!0})):d&&d.classList.contains("expanded")&&(d.style.height="auto",d.style.display="block")}catch(t){var u=_();u[o]&&u[o][y]&&(delete u[o][y],localStorage.setItem("woo_better_cart_postcode_cache",JSON.stringify(u)))}}function _(){var t="woo_better_cart_postcode_cache_simple",e=localStorage.getItem(t);if(e)try{var n=JSON.parse(e),o=!1;return Object.keys(n).forEach(function(t){Date.now()-n[t].timestamp>432e6&&(delete n[t],o=!0)}),o&&localStorage.setItem(t,JSON.stringify(n)),n}catch(e){return localStorage.removeItem(t),{}}return{}}function S(t){var e=_(),n=E();if(e[t]){var o=e[t];return q(n,o.cart_data)?o:null}return null}function E(){var t=[];if(window.wc&&window.wc.wcBlocksData&&window.wp&&window.wp.data)try{var e=window.wp.data.select("wc/store/cart");if(e){var n=e.getCartData?e.getCartData().items:e.getItems?e.getItems():null;n&&Array.isArray(n)&&n.length>0&&(t=n.map(function(t){var e=t.variation_id||t.variation||0;return Array.isArray(e)&&(e=e.length>0?e[0]:0),{id:t.id||t.product_id||t.key,quantity:parseInt(t.quantity)||1,variation_id:e}}))}}catch(t){}if(0===t.length&&window.wc&&window.wc.wcBlocksData&&window.wc.wcBlocksData.cartItems&&(t=window.wc.wcBlocksData.cartItems.map(function(t){var e=t.variation_id||0;return Array.isArray(e)&&(e=e.length>0?e[0]:0),{id:t.id||t.product_id,quantity:t.quantity,variation_id:e}})),0===t.length&&window.wc_cart_fragments_params&&window.wc_cart_fragments_params.fragments){var o=window.wc_cart_fragments_params.fragments;Object.keys(o).forEach(function(e){var n=o[e];if("string"==typeof n){var r=document.createElement("div");r.innerHTML=n,r.querySelectorAll("[data-product-id], .cart-item, .wc-block-cart-items__row").forEach(function(e){var n,o=e.getAttribute("data-product-id")||e.getAttribute("data-key")||(null===(n=e.querySelector("[data-product-id]"))||void 0===n?void 0:n.getAttribute("data-product-id"));if(o){var r=e.querySelector('.qty, [name*="quantity"], .quantity'),a=r&&parseInt(r.value||r.textContent)||1,c=e.getAttribute("data-variation-id")||0;t.push({id:o,quantity:a,variation_id:c})}})}}),t.length}if(0===t.length&&(document.querySelectorAll('.wc-block-cart-items__row, .cart_item, [class*="cart-item"]').forEach(function(e){var n,o,r=e.getAttribute("data-product-id")||e.getAttribute("data-id")||(null===(n=e.querySelector("[data-product-id]"))||void 0===n?void 0:n.getAttribute("data-product-id")),a=e.querySelector('.wc-block-components-quantity-selector__input, input[name*="quantity"], .qty'),c=a&&parseInt(a.value)||1,i=e.getAttribute("data-variation-id")||(null===(o=e.querySelector("[data-variation-id]"))||void 0===o?void 0:o.getAttribute("data-variation-id"))||0;if(r){var s=i;Array.isArray(s)&&(s=s.length>0?s[0]:0),t.push({id:r,quantity:c,variation_id:s})}}),t.length),0===t.length)if(i.quantity)t.push({id:"unknown",quantity:i.quantity,variation_id:0});else{var r=document.querySelectorAll('.cart-contents-count, .wc-block-mini-cart__badge, [class*="cart-count"]'),a=0;r.forEach(function(t){var e=parseInt(t.textContent)||0;e>a&&(a=e)}),a>0&&t.push({id:"dom_fallback",quantity:a,variation_id:0})}return t.sort(function(t,e){return t.id!==e.id?t.id.toString().localeCompare(e.id.toString()):t.variation_id!==e.variation_id?t.variation_id-e.variation_id:t.quantity-e.quantity}),t}function q(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var o=t[n],r=e[n],a=function(t){return Array.isArray(t)?t.length>0?t[0]:0:t||0},c=a(o.variation_id),i=a(r.variation_id);if(o.id!=r.id||o.quantity!==r.quantity||c!==i)return!1}return!0}function C(){var t="woo_better_last_postcode",e=localStorage.getItem(t);if(e)try{var n=JSON.parse(e);if(Date.now()-n.timestamp<432e6)return n.postcode;localStorage.removeItem(t)}catch(e){localStorage.removeItem(t)}return null}function k(t){var e={postcode:t,timestamp:Date.now()};localStorage.setItem("woo_better_last_postcode",JSON.stringify(e))}t=document.createElement("style"),o=function(t){t=t.replace("#","");var e=parseInt(t,16),n=(e>>16)-10,o=(e>>8&255)-10,r=(255&e)-10;return n=Math.max(0,Math.min(255,n)),o=Math.max(0,Math.min(255,o)),r=Math.max(0,Math.min(255,r)),"#".concat((n<<16|o<<8|r).toString(16).padStart(6,"0"))}(n=i.inputStyles.backgroundColor||"#ffffff"),a="\n            .woo-better-info-block {\n                color: ".concat(i.inputStyles.color," !important;\n                border-radius: ").concat(i.inputStyles.borderRadius," !important;\n                padding: 0px !important;\n                margin: 20px 0px !important;\n                font-family: 'Poppins', sans-serif !important;\n                font-size: 14px !important;\n            }\n\n            .woo-better-current-postcode-block {\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                padding: 15px;\n                border: 1px solid #ddd;\n                border-radius: 5px;\n                background-color: ").concat(o," !important;\n                min-width: 200px;\n            }\n\n            .woo-better-content-block {\n                margin-top: -3px;\n                padding: 0px 20px;\n                background-color: ").concat(n," !important;\n                border: none;\n                height: 0;\n                overflow: hidden;\n                transition: height 0.3s ease;\n                box-shadow: none;\n            }\n\n            .woo-better-content-block.expanded {\n                height: auto; \n                padding: 10px 20px;\n                border-bottom-right-radius: ").concat(i.inputStyles.borderRadius," !important;\n                border-bottom-left-radius: ").concat(i.inputStyles.borderRadius," !important;\n                border: ").concat(i.inputStyles.borderWidth," ").concat(i.inputStyles.borderStyle," ").concat(i.inputStyles.borderColor," !important;\n                border-top: 0px !important;\n            }\n        "),t.appendChild(document.createTextNode(a)),document.head.appendChild(t),new MutationObserver(function(t,e){t.forEach(function(t){if("childList"===t.type){var n=function(){if("custom"===i.position)l=i.custom_position||'h2[class*="order"]';else{var t=i.position||"top";l="middle"===t?'div[class*="shipping-block"]':"bottom"===t?'div[class*="totals-footer"]':'h2[class*="order"]'}return l}(),o=document.querySelector(n);if(o&&!s){s=!0,function(){var t=".wc-block-components-quantity-selector__input";""!==i.custom_class.quantity&&(t=i.custom_class.quantity),document.querySelectorAll(t).forEach(function(t){new MutationObserver(function(){f()}).observe(t,{attributes:!0,attributeFilter:["value"]})})}(),function(){var t=".wc-block-cart-item__remove-link";""!==i.custom_class.remove&&(t=i.custom_class.remove),document.querySelectorAll(t).forEach(function(t){t.addEventListener("click",function(){f()})})}(),function(){if([".wc-block-cart-items",".cart_list",".shop_table_responsive",'[class*="cart-item"]','[class*="cart_content"]'].forEach(function(t){var e=document.querySelector(t);e&&new MutationObserver(function(){f()}).observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-product-id","data-quantity","value"]})}),window.jQuery&&window.jQuery.fn.on&&window.jQuery(document.body).on("updated_wc_div updated_cart_totals wc_fragments_refreshed",function(){f()}),window.wp&&window.wp.data)try{var t=window.wp.data.subscribe,e="";t(function(){try{var t=window.wp.data.select("wc/store/cart");if(t&&t.getCartData){var n=(t.getCartData().items||[]).map(function(t){return{id:t.id,quantity:t.quantity,variation:t.variation}}),o=JSON.stringify(n);e&&o!==e&&f(),e=o}}catch(t){}})}catch(t){}}();var r=function(){var t=document.createElement("div");return t.classList.add("woo-better-parent-container"),t}(),a=function(){var t=document.createElement("form");t.id="custom-postcode-form",t.style.marginTop="20px",t.style.padding="0px",C()&&"yes"===i.enable_search&&(t.style.display="none");var e=document.createElement("div");e.classList.add("woo-better-container-current-style");var n=document.createElement("div");n.classList.add("woo-better-input-button-group-current-style");var o=document.createElement("div");o.classList.add("woo-better-input-wrapper-current-style");var r=document.createElement("input");r.type="text",r.name="woo_better_custom_cart_postcode",r.placeholder=i.placeholder||"Digite o CEP",r.classList.add("woo-better-input-current-style"),r.autocomplete="postal-code";var a=C();a&&(r.value=a);var c=i.inputStyles||{};Object.keys(c).forEach(function(t){r.style[t]=c[t]}),r.addEventListener("input",function(t){var e=t.target.value;if((e=e.replace(/[^\d-]/g,"")).includes("-")){var n,o=e.split("-");o.length>2||o[0].length>5?e=o[0].slice(0,5)+"-"+(null===(n=o[1])||void 0===n?void 0:n.slice(0,3)):o[0].length<5&&(e=o[0])}e.length>5&&!e.includes("-")&&(e=e.slice(0,5)+"-"+e.slice(5)),e.length>9&&(e=e.slice(0,9)),t.target.value=e});var s=document.createElement("img");s.src=i.icon,s.alt="Ícone de entrega",s.classList.add("woo-better-icon-current-style"),s.classList.add(i.iconColor||"black-icon"),o.appendChild(r),o.appendChild(s);var l=document.createElement("button");l.type="submit",l.textContent="CONSULTAR",l.classList.add("woo-better-button-current-style");var d=i.buttonStyles||{};Object.keys(d).forEach(function(t){l.style[t]=d[t]}),n.appendChild(o),n.appendChild(l),e.appendChild(n);var p=document.createElement("a");return p.href="https://buscacepinter.correios.com.br/app/endereco/index.php",p.textContent="Não sei meu CEP",p.classList.add("woo-better-link-current-style"),p.target="_blank",e.appendChild(p),t.appendChild(e),t.addEventListener("submit",function(t){t.preventDefault();var e=r.value.trim();if(/^\d{5}-\d{3}$/.test(e)){l.disabled=!0,r.disabled=!0;var n=S(e),o=document.querySelector(".woo-better-info-block");o&&!n&&(o.style.display="none"),u=l.textContent,l.textContent="";var a=document.createElement("span");a.classList.add("loading-icon"),l.appendChild(a),r.style.backgroundColor="#f0f0f0",r.style.cursor="not-allowed",l.style.backgroundColor="#ccc",l.style.cursor="not-allowed",function(t){h.apply(this,arguments)}(e)}else alert("Por favor, insira um CEP válido no formato XXXXX-XXX.")}),t}(),c={cart:{name:"*******",quantity:i.quantity,currency_symbol:"R$",currency_minor_unit:2},shipping_rates:[{id:"**********",label:"***********",cost:12.34}],postcode:"123456-789"},d=function(t,e,n,o){var r=document.createElement("div");r.classList.add("woo-better-info-block");var a=C();if(a&&"yes"===i.enable_search){var c=S(a);r.style.display=c?"block":"none"}else r.style.display="none";var s=document.createElement("div");s.classList.add("woo-better-content-block"),s.style.display="none";var l=document.createElement("p"),d=document.createElement("img");d.src=i.details_icon.cart,d.alt="Produto",d.classList.add("woo-better-icon"),d.classList.add(i.iconColor||"black-icon"),l.appendChild(d);var u=document.createTextNode(" Carrinho");l.appendChild(u),l.classList.add("woo-better-cart-name");var p=document.createElement("p"),y=document.createElement("img");y.src=i.details_icon.quantity,y.alt="Quantidade",y.classList.add("woo-better-icon"),y.classList.add(i.iconColor||"black-icon"),p.appendChild(y);var m=document.createTextNode(" Quantidade: ".concat(t.quantity));p.appendChild(m),p.classList.add("woo-better-cart-quantity");var f=document.createElement("div");f.classList.add("woo-better-shipping-methods");var b=document.createElement("p"),h=document.createElement("img");h.src=i.icon,h.alt="Entrega",h.classList.add("woo-better-icon"),h.classList.add(i.iconColor||"black-icon"),b.appendChild(h);var g=document.createTextNode(" Métodos de Entrega:");b.appendChild(g),f.appendChild(b);var w=document.createElement("ul");w.classList.add("woo-better-shipping-list"),e.forEach(function(e){var n=document.createElement("li");n.innerHTML="<strong>".concat(t.currency_symbol," ").concat(parseFloat(e.cost).toFixed(t.currency_minor_unit).replace(".",","),"</strong> - ").concat(e.label),w.appendChild(n)}),f.appendChild(w),s.appendChild(l),s.appendChild(p),s.appendChild(f);var _=function(t,e){var n=document.createElement("div");n.classList.add("woo-better-current-postcode-block");var o=document.createElement("div");o.classList.add("woo-better-toggle-postcode-wrapper");var r=document.createElement("button");r.type="button",v(r,"up","Esconder detalhes de entrega"),r.classList.add("woo-better-toggle-button");var a=document.createElement("span");a.innerHTML="<strong>CEP</strong>: ".concat(t),a.classList.add("woo-better-current-postcode-text"),r.addEventListener("click",function(){var t=document.querySelector(".woo-better-content-block");t&&(t.classList.contains("expanded")?(t.style.height="".concat(t.scrollHeight,"px"),requestAnimationFrame(function(){t.style.height="0"}),t.classList.remove("expanded"),r.innerHTML="",v(r,"down","Exibir detalhes de entrega")):(t.style.height="".concat(t.scrollHeight,"px"),t.classList.add("expanded"),r.innerHTML="",v(r,"up","Esconder detalhes de entrega"),t.addEventListener("transitionend",function(){t.classList.contains("expanded")&&(t.style.height="".concat(t.scrollHeight,"px"))},{once:!0})))}),o.appendChild(r),o.appendChild(a);var c=document.createElement("button");return c.type="button",c.textContent="Alterar",c.classList.add("woo-better-change-postcode-button"),c.addEventListener("click",function(){var t=document.querySelector(".woo-better-info-block");t&&(t.style.display="none"),e.style.display="block"}),n.appendChild(o),n.appendChild(c),n}(n,o);return r.appendChild(_),r.appendChild(s),r}(c.cart,c.shipping_rates,c.postcode,a);r.appendChild(a),r.appendChild(d),o.insertAdjacentElement("afterend",r),y=function(){var t=C();if(t){var e=document.querySelector(".woo-better-input-current-style");if(e){e.value=t;var n=S(t);if(n&&i.enable_search&&"yes"===i.enable_search){var o=document.querySelector(".woo-better-info-block");w(n,document.querySelector("#custom-postcode-form"),o,t)}else if(!n&&i.enable_search&&"yes"===i.enable_search){var r=document.querySelector(".woo-better-info-block");if(r){r.style.display="block";var a=r.querySelector(".woo-better-cart-name");if(a){var c=a.childNodes[1];c&&c.nodeType===Node.TEXT_NODE&&(c.textContent=" Carregando dados do carrinho...")}var s=r.querySelector(".woo-better-shipping-list");s&&(s.innerHTML="<li>Calculando taxas de envio...</li>")}var l=document.querySelector(".woo-better-button-current-style");l&&l.click()}}}},(m=new FormData).append("action","wc_better_calc_get_nonce"),m.append("action_nonce","woo_better_register_cart_address"),fetch(i.ajaxurl,{method:"POST",body:m}).then(function(t){return t.json()}).then(function(t){t.success&&t.data&&t.data.nonce&&(p=t.data.nonce),y()}).catch(function(){y()}),e.disconnect()}}var y,m})}).observe(document.body,{childList:!0,subtree:!0})})})();