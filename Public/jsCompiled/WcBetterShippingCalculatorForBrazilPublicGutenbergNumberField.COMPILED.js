/*! For license information please see WcBetterShippingCalculatorForBrazilPublicGutenbergNumberField.COMPILED.js.LICENSE.txt */
(()=>{function e(){var n,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function a(e,o,i,c){var a=o&&o.prototype instanceof s?o:s,d=Object.create(a.prototype);return t(d,"_invoke",function(e,t,o){var i,c,a,s=0,d=o||[],u=!1,b={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return i=e,c=0,a=n,b.n=t,l}};function p(e,t){for(c=e,a=t,r=0;!u&&s&&!o&&r<d.length;r++){var o,i=d[r],p=b.p,m=i[2];e>3?(o=m===t)&&(a=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=n):i[0]<=p&&((o=e<2&&p<i[1])?(c=0,b.v=t,b.n=i[1]):p<m&&(o=e<3||i[0]>t||t>m)&&(i[4]=e,i[5]=t,b.n=m,c=0))}if(o||e>1)return l;throw u=!0,t}return function(o,d,m){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,m),c=d,a=m;(r=c<2?n:a)||!u;){i||(c?c<3?(c>1&&(b.n=-1),p(c,a)):b.n=a:b.v=a);try{if(s=2,i){if(c||(o="next"),r=i[o]){if(!(r=r.call(i,a)))throw TypeError("iterator result is not an object");if(!r.done)return r;a=r.value,c<2&&(c=0)}else 1===c&&(r=i.return)&&r.call(i),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=n}else if((r=(u=b.n<0)?a:e.call(t,b))!==l)break}catch(e){i=n,c=1,a=e}finally{s=1}}return{value:r,done:u}}}(e,i,c),!0),d}var l={};function s(){}function d(){}function u(){}r=Object.getPrototypeOf;var b=[][i]?r(r([][i]())):(t(r={},i,function(){return this}),r),p=u.prototype=s.prototype=Object.create(b);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,t(e,c,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,t(p,"constructor",u),t(u,"constructor",d),d.displayName="GeneratorFunction",t(u,c,"GeneratorFunction"),t(p),t(p,c,"Generator"),t(p,i,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:a,m}})()}function t(e,n,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}t=function(e,n,r,o){function c(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?i?i(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(c("next",0),c("throw",1),c("return",2))},t(e,n,r,o)}function n(e,t,n,r,o,i,c){try{var a=e[i](c),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}document.addEventListener("DOMContentLoaded",function(){var t=!1,r=!1,o=!1,i=!1,c=null,a=0,l=new MutationObserver(function(l){var d=document.querySelector("#shipping"),u=document.querySelector("#billing");if(d||(t=!1,a=0),u||(r=!1),d&&!t){t=!0;var b=setInterval(function(){if(a>20)clearInterval(b);else{var e=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="shipping"]');if("true"!=e.getAttribute("aria-expanded")&&e.click(),"true"==e.getAttribute("aria-expanded")){clearInterval(b);var t=d.querySelector(".wc-block-components-text-input.wc-block-components-address-form__address_1");if(t){var n=document.createElement("div");n.className="wc-block-components-text-input wc-block-components-address-form__number wc-better-shipping-number";var o=document.createElement("input");o.type="text",o.id="shipping-number",o.setAttribute("autocomplete","give-number"),o.setAttribute("aria-label","Número"),o.setAttribute("required",""),o.setAttribute("aria-invalid","false"),o.setAttribute("autocapitalize","sentences"),o.value="";var i=document.createElement("label");i.setAttribute("for","shipping-number"),i.textContent="Número",n.appendChild(o),n.appendChild(i);var c=document.createElement("div");c.className="wc-block-components-validation-error wc-better-shipping",c.setAttribute("role","alert"),c.style.display="none";var l=document.createElement("p");l.id="validate-error-shipping_number";var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("viewBox","-2 -2 24 24"),u.setAttribute("width","24"),u.setAttribute("height","24"),u.setAttribute("aria-hidden","true"),u.setAttribute("focusable","false");var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"),u.appendChild(p);var m=document.createElement("span");m.textContent="Por favor, insira um número válido.",l.appendChild(u),l.appendChild(m),c.appendChild(l),n.appendChild(c);var v=document.createElement("div");v.className="wc-block-components-checkbox wc-block-checkout__use-address-for-shipping wc-better";var h=document.createElement("label");h.setAttribute("for","wc-shipping-better-checkbox");var w=document.createElement("input");w.id="wc-shipping-better-checkbox",w.className="wc-block-components-checkbox__input",w.type="checkbox",w.setAttribute("aria-invalid","false");var g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("class","wc-block-components-checkbox__mark"),g.setAttribute("aria-hidden","true"),g.setAttribute("xmlns","http://www.w3.org/2000/svg"),g.setAttribute("viewBox","0 0 24 20");var f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"),g.appendChild(f);var y=document.createElement("span");y.className="wc-block-components-checkbox__label",y.textContent="Sem número (S/N)",h.appendChild(w),h.appendChild(g),h.appendChild(y),v.appendChild(h),t.insertAdjacentElement("afterend",v),t.insertAdjacentElement("afterend",n),o.addEventListener("focus",function(){n.classList.add("is-active")}),o.addEventListener("blur",function(){o.value||n.classList.remove("is-active")})}var k=document.querySelector(".wc-block-components-checkbox.wc-block-checkout__use-address-for-billing"),_=k?k.querySelector("input"):null;_&&_.addEventListener("change",function(){_.checked||(r=!1,s(document.querySelector("#billing")))})}a++}},5)}u&&!r&&s(u);var p,m=document.querySelector(".wc-block-checkout__actions_row");if(m&&(c=m.querySelector("button")),c&&!o){o=!0;var v="",h="",w=setInterval(function(){var e=document.getElementById("wc-shipping-better-checkbox");v=document.getElementById("shipping-number"),h=document.querySelector(".wc-block-components-validation-error.wc-better-shipping");var t=document.querySelector(".wc-better-shipping-number");e&&(clearInterval(w),e.addEventListener("change",function(){this.checked?(v.disabled=!0,v.setAttribute("value","S/N"),v.value="S/N",v.style.backgroundColor="#e0e0e0",v.style.color="#808080",t&&t.classList.add("is-active"),h&&(h.style.display="none")):(v.disabled=!1,v.setAttribute("value",""),v.value="",v.style.backgroundColor="",v.style.color="",t&&t.classList.remove("is-active"))}),v&&h&&v.addEventListener("input",function(){v.value.trim().length>0?h.style.display="none":h.style.display="block"}))},10);c&&c.addEventListener("click",function(e){var t=document.getElementById("shipping-number"),n=document.getElementById("billing-number"),r=document.querySelector(".wc-block-components-validation-error.wc-better-shipping"),o=document.querySelector(".wc-block-components-validation-error.wc-better-billing");t&&!t.value.trim().length?(e.stopPropagation(),e.preventDefault(),r.style.display="block",t.scrollIntoView({behavior:"smooth",block:"center"})):n&&!n.value.trim().length&&(e.stopPropagation(),e.preventDefault(),o.style.display="block",n.scrollIntoView({behavior:"smooth",block:"center"}))})}(t||r)&&o&&!i&&(p=window.fetch,window.fetch=function(){var t,r=(t=e().m(function t(n,r){var o,i,c,a,l,s,d,u,b,m,v,h;return e().w(function(e){for(;;)if(0===e.n){if("string"==typeof n&&n.includes("/wp-json/wc/store/v1/checkout"))try{i=JSON.parse(r.body),c=document.getElementById("shipping-number"),a=c?c.value.trim():"",l=document.getElementById("billing-number"),s=l?l.value.trim():"",d=document.querySelector(".wc-block-components-checkbox.wc-block-checkout__use-address-for-billing"),(u=d?d.querySelector("input"):"")&&(u.checked?null!=i&&null!==(b=i.billing_address)&&void 0!==b&&b.address_1&&a?(i.billing_address.address_1+=" - ".concat(a),i.payment_data.push({key:"lkn_billing_number",value:a})):null!=i&&null!==(m=i.billing_address)&&void 0!==m&&m.address_1&&!a&&(i.billing_address.address_1+=" - S/N",i.payment_data.push({key:"lkn_billing_number",value:"S/N"})):s?null!=i&&null!==(v=i.billing_address)&&void 0!==v&&v.address_1&&(i.billing_address.address_1+=" - ".concat(s),i.payment_data.push({key:"lkn_billing_number",value:s})):null!=i&&null!==(h=i.billing_address)&&void 0!==h&&h.address_1&&(i.billing_address.address_1+=" - S/N",i.payment_data.push({key:"lkn_billing_number",value:"S/N"}))),a&&null!=i&&null!==(o=i.shipping_address)&&void 0!==o&&o.address_1&&(i.shipping_address.address_1+=" - ".concat(a),i.payment_data.push({key:"lkn_shipping_number",value:a})),r.body=JSON.stringify(i)}catch(e){console.error("Erro ao modificar a requisição do checkout:",e)}return e.a(2,p(n,r))}},t)}),function(){var e=this,r=arguments;return new Promise(function(o,i){var c=t.apply(e,r);function a(e){n(c,o,i,a,l,"next",e)}function l(e){n(c,o,i,a,l,"throw",e)}a(void 0)})});return function(e,t){return r.apply(this,arguments)}}(),i=!0)});function s(e){var t=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="billing"]'),n=document.getElementById("billing-number");if("true"!=t.getAttribute("aria-expanded")&&t.click(),"true"==t.getAttribute("aria-expanded")&&!n){var o=e.querySelector(".wc-block-components-text-input.wc-block-components-address-form__address_1");if(r=!0,o){var i=document.createElement("div");i.className="wc-block-components-text-input wc-block-components-address-form__number wc-better-billing-number";var c=document.createElement("input");c.type="text",c.id="billing-number",c.setAttribute("autocomplete","give-number"),c.setAttribute("aria-label","Número"),c.setAttribute("required",""),c.setAttribute("aria-invalid","false"),c.setAttribute("autocapitalize","sentences"),c.value="";var a=document.createElement("label");a.setAttribute("for","billing-number"),a.textContent="Número",i.appendChild(c),i.appendChild(a);var l=document.createElement("div");l.className="wc-block-components-validation-error wc-better-billing",l.setAttribute("role","alert"),l.style.display="none";var s=document.createElement("p");s.id="validate-error-billing_number";var d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("viewBox","-2 -2 24 24"),d.setAttribute("width","24"),d.setAttribute("height","24"),d.setAttribute("aria-hidden","true"),d.setAttribute("focusable","false");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"),d.appendChild(u);var b=document.createElement("span");b.textContent="Por favor, insira um número válido.",s.appendChild(d),s.appendChild(b),l.appendChild(s),i.appendChild(l);var p=document.createElement("div");p.className="wc-block-components-checkbox wc-block-checkout__use-address-for-billing wc-better";var m=document.createElement("label");m.setAttribute("for","wc-billing-better-checkbox");var v=document.createElement("input");v.id="wc-billing-better-checkbox",v.className="wc-block-components-checkbox__input",v.type="checkbox",v.setAttribute("aria-invalid","false");var h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("class","wc-block-components-checkbox__mark"),h.setAttribute("aria-hidden","true"),h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h.setAttribute("viewBox","0 0 24 20");var w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"),h.appendChild(w);var g=document.createElement("span");g.className="wc-block-components-checkbox__label",g.textContent="Sem número (S/N)",m.appendChild(v),m.appendChild(h),m.appendChild(g),p.appendChild(m),o.insertAdjacentElement("afterend",p),o.insertAdjacentElement("afterend",i),c.addEventListener("focus",function(){i.classList.add("is-active")}),c.addEventListener("blur",function(){c.value||i.classList.remove("is-active")});var f=document.getElementById("wc-billing-better-checkbox"),y=document.getElementById("billing-number");f.addEventListener("change",function(){var e=document.querySelector(".wc-better-billing-number"),t=document.querySelector(".wc-block-components-validation-error.wc-better-billing");this.checked?(y.disabled=!0,y.setAttribute("value","S/N"),y.value="S/N",y.style.backgroundColor="#e0e0e0",y.style.color="#808080",e&&e.classList.add("is-active"),t&&(t.style.display="none")):(y.disabled=!1,y.setAttribute("value",""),y.value="",y.style.backgroundColor="",y.style.color="",e&&e.classList.remove("is-active"))}),y.addEventListener("input",function(){var e=document.querySelector(".wc-block-components-validation-error.wc-better-billing");y&&(y.value.trim().length>0?e.style.display="none":e.style.display="block")})}}}l.observe(document.body,{childList:!0,subtree:!0})})})();