document.addEventListener("DOMContentLoaded",function(){var e=!1,t=!1,n=!1,o=null,r=0;function i(e){var n=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="billing"]'),o=document.getElementById("billing-number");if("true"!=n.getAttribute("aria-expanded")&&n.click(),"true"==n.getAttribute("aria-expanded")&&!o){var r=e.querySelector(".wc-block-components-text-input.wc-block-components-address-form__address_1");if(t=!0,r){var i=document.createElement("div");i.className="wc-block-components-text-input wc-block-components-address-form__number wc-better-billing-number";var c=document.createElement("input");c.type="text",c.id="billing-number",c.setAttribute("autocomplete","give-number"),c.setAttribute("aria-label","Número"),c.setAttribute("required",""),c.setAttribute("aria-invalid","false"),c.setAttribute("autocapitalize","sentences");var a="undefined"!=typeof WooBetterNumberData&&WooBetterNumberData.billing_number?WooBetterNumberData.billing_number:"";c.value=a,""!==a&&i.classList.add("is-active");var l=document.createElement("input");l.id="wc-billing-better-checkbox",l.className="wc-block-components-checkbox__input",l.type="checkbox",l.setAttribute("aria-invalid","false"),"undefined"!=typeof WooBetterNumberData&&"S/N"===WooBetterNumberData.billing_number&&(l.checked=!0,c.disabled=!0,c.style.backgroundColor="#e0e0e0",c.style.color="#808080"),c.addEventListener("input",function(){var e=c.value.trim();if(window.wc&&window.wc.blocksCheckout&&"function"==typeof window.wc.blocksCheckout.extensionCartUpdate){var t={woo_better_shipping_number:"",woo_better_billing_number:e},n=document.getElementById("shipping-number");t.woo_better_shipping_number=n?n.value:e,window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_number_validation",data:t})}});var s=document.createElement("label");s.setAttribute("for","billing-number"),s.textContent="Número",i.appendChild(c),i.appendChild(s);var d=document.createElement("div");d.className="wc-block-components-validation-error wc-better-billing",d.setAttribute("role","alert"),d.style.display="none";var u=document.createElement("p");u.id="validate-error-billing_number";var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("xmlns","http://www.w3.org/2000/svg"),b.setAttribute("viewBox","-2 -2 24 24"),b.setAttribute("width","24"),b.setAttribute("height","24"),b.setAttribute("aria-hidden","true"),b.setAttribute("focusable","false");var m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("d","M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"),b.appendChild(m);var p=document.createElement("span");p.textContent="Por favor, insira um número válido.",u.appendChild(b),u.appendChild(p),d.appendChild(u),i.appendChild(d);var w=document.createElement("div");w.className="wc-block-components-checkbox wc-block-checkout__use-address-for-billing wc-better";var v=document.createElement("label");v.setAttribute("for","wc-billing-better-checkbox");var h=document.createElement("input");h.id="wc-billing-better-checkbox",h.className="wc-block-components-checkbox__input",h.type="checkbox",h.setAttribute("aria-invalid","false"),"undefined"!=typeof WooBetterNumberData&&"S/N"===WooBetterNumberData.billing_number&&(h.checked=!0,c.disabled=!0,c.style.backgroundColor="#e0e0e0",c.style.color="#808080"),h.addEventListener("change",function(){var e=this.checked?"S/N":"";if(window.wc&&window.wc.blocksCheckout&&"function"==typeof window.wc.blocksCheckout.extensionCartUpdate){var t={woo_better_shipping_number:"",woo_better_billing_number:e},n=document.getElementById("shipping-number");t.woo_better_shipping_number=n?n.value:e,window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_number_validation",data:t})}});var g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("class","wc-block-components-checkbox__mark"),g.setAttribute("aria-hidden","true"),g.setAttribute("xmlns","http://www.w3.org/2000/svg"),g.setAttribute("viewBox","0 0 24 20");var k=document.createElementNS("http://www.w3.org/2000/svg","path");k.setAttribute("d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"),g.appendChild(k);var _=document.createElement("span");_.className="wc-block-components-checkbox__label",_.textContent="Sem número (S/N)",v.appendChild(h),v.appendChild(g),v.appendChild(_),w.appendChild(v),r.insertAdjacentElement("afterend",w),r.insertAdjacentElement("afterend",i),c.addEventListener("focus",function(){i.classList.add("is-active")}),c.addEventListener("blur",function(){c.value||i.classList.remove("is-active")});var y=document.getElementById("wc-billing-better-checkbox"),f=document.getElementById("billing-number");y.addEventListener("change",function(){var e=document.querySelector(".wc-better-billing-number"),t=document.querySelector(".wc-block-components-validation-error.wc-better-billing");this.checked?(f.disabled=!0,f.setAttribute("value","S/N"),f.value="S/N",f.style.backgroundColor="#e0e0e0",f.style.color="#808080",e&&e.classList.add("is-active"),t&&(t.style.display="none")):(f.disabled=!1,f.setAttribute("value",""),f.value="",f.style.backgroundColor="",f.style.color="",e&&e.classList.remove("is-active"))}),f.addEventListener("input",function(){var e=document.querySelector(".wc-block-components-validation-error.wc-better-billing");f&&(f.value.trim().length>0?e.style.display="none":e.style.display="block")})}}}new MutationObserver(function(c){var a=document.querySelector("#shipping"),l=document.querySelector("#billing");if(a||(e=!1,r=0),l||(t=!1),a&&!e){e=!0;var s=setInterval(function(){if(r>20)clearInterval(s);else{var e=document.querySelector('span.wc-block-components-address-card__edit[aria-controls="shipping"]');if("true"!=e.getAttribute("aria-expanded")&&e.click(),"true"==e.getAttribute("aria-expanded")){clearInterval(s);var n=a.querySelector(".wc-block-components-text-input.wc-block-components-address-form__address_1");if(n){var o=document.createElement("div");o.className="wc-block-components-text-input wc-block-components-address-form__number wc-better-shipping-number";var c=document.createElement("input");c.type="text",c.id="shipping-number",c.setAttribute("autocomplete","give-number"),c.setAttribute("aria-label","Número"),c.setAttribute("required",""),c.setAttribute("aria-invalid","false"),c.setAttribute("autocapitalize","sentences");var l="undefined"!=typeof WooBetterNumberData&&WooBetterNumberData.shipping_number?WooBetterNumberData.shipping_number:"";c.value=l,""!==l&&o.classList.add("is-active");var d=document.createElement("input");d.id="wc-shipping-better-checkbox",d.className="wc-block-components-checkbox__input",d.type="checkbox",d.setAttribute("aria-invalid","false"),"undefined"!=typeof WooBetterNumberData&&"S/N"===WooBetterNumberData.shipping_number&&(d.checked=!0,c.disabled=!0,c.style.backgroundColor="#e0e0e0",c.style.color="#808080"),c.addEventListener("input",function(){var e=c.value.trim();if(window.wc&&window.wc.blocksCheckout&&"function"==typeof window.wc.blocksCheckout.extensionCartUpdate){var t={woo_better_shipping_number:e,woo_better_billing_number:""},n=document.getElementById("billing-number");t.woo_better_billing_number=n?n.value:e,window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_number_validation",data:t})}});var u=document.createElement("label");u.setAttribute("for","shipping-number"),u.textContent="Número",o.appendChild(c),o.appendChild(u);var b=document.createElement("div");b.className="wc-block-components-validation-error wc-better-shipping",b.setAttribute("role","alert"),b.style.display="none";var m=document.createElement("p");m.id="validate-error-shipping_number";var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("xmlns","http://www.w3.org/2000/svg"),p.setAttribute("viewBox","-2 -2 24 24"),p.setAttribute("width","24"),p.setAttribute("height","24"),p.setAttribute("aria-hidden","true"),p.setAttribute("focusable","false");var w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d","M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"),p.appendChild(w);var v=document.createElement("span");v.textContent="Por favor, insira um número válido.",m.appendChild(p),m.appendChild(v),b.appendChild(m),o.appendChild(b);var h=document.createElement("div");h.className="wc-block-components-checkbox wc-block-checkout__use-address-for-shipping wc-better";var g=document.createElement("label");g.setAttribute("for","wc-shipping-better-checkbox");var k=document.createElement("input");k.id="wc-shipping-better-checkbox",k.className="wc-block-components-checkbox__input",k.type="checkbox",k.setAttribute("aria-invalid","false"),"undefined"!=typeof WooBetterNumberData&&"S/N"===WooBetterNumberData.shipping_number&&(k.checked=!0,c.disabled=!0,c.style.backgroundColor="#e0e0e0",c.style.color="#808080"),k.addEventListener("change",function(){var e=this.checked?"S/N":"";if(window.wc&&window.wc.blocksCheckout&&"function"==typeof window.wc.blocksCheckout.extensionCartUpdate){var t={woo_better_shipping_number:e,woo_better_billing_number:""},n=document.getElementById("billing-number");t.woo_better_billing_number=n?n.value:e,window.wc.blocksCheckout.extensionCartUpdate({namespace:"woo_better_number_validation",data:t})}});var _=document.createElementNS("http://www.w3.org/2000/svg","svg");_.setAttribute("class","wc-block-components-checkbox__mark"),_.setAttribute("aria-hidden","true"),_.setAttribute("xmlns","http://www.w3.org/2000/svg"),_.setAttribute("viewBox","0 0 24 20");var y=document.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("d","M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"),_.appendChild(y);var f=document.createElement("span");f.className="wc-block-components-checkbox__label",f.textContent="Sem número (S/N)",g.appendChild(k),g.appendChild(_),g.appendChild(f),h.appendChild(g),n.insertAdjacentElement("afterend",h),n.insertAdjacentElement("afterend",o),c.addEventListener("focus",function(){o.classList.add("is-active")}),c.addEventListener("blur",function(){c.value||o.classList.remove("is-active")})}var E=document.querySelector(".wc-block-components-checkbox.wc-block-checkout__use-address-for-billing"),C=E?E.querySelector("input"):null;C&&C.addEventListener("change",function(){C.checked||(t=!1,i(document.querySelector("#billing")))})}r++}},5)}l&&!t&&i(l);var d=document.querySelector(".wc-block-checkout__actions_row");if(d&&(o=d.querySelector("button")),o&&!n){n=!0;var u="",b="",m=setInterval(function(){var e=document.getElementById("wc-shipping-better-checkbox");u=document.getElementById("shipping-number"),b=document.querySelector(".wc-block-components-validation-error.wc-better-shipping");var t=document.querySelector(".wc-better-shipping-number");e&&(clearInterval(m),e.addEventListener("change",function(){this.checked?(u.disabled=!0,u.setAttribute("value","S/N"),u.value="S/N",u.style.backgroundColor="#e0e0e0",u.style.color="#808080",t&&t.classList.add("is-active"),b&&(b.style.display="none")):(u.disabled=!1,u.setAttribute("value",""),u.value="",u.style.backgroundColor="",u.style.color="",t&&t.classList.remove("is-active"))}),u&&b&&u.addEventListener("input",function(){u.value.trim().length>0?b.style.display="none":b.style.display="block"}))},10);o&&o.addEventListener("click",function(e){var t=document.getElementById("shipping-number"),n=document.getElementById("billing-number"),o=document.querySelector(".wc-block-components-validation-error.wc-better-shipping"),r=document.querySelector(".wc-block-components-validation-error.wc-better-billing");t&&!t.value.trim().length?(e.stopPropagation(),e.preventDefault(),o.style.display="block",t.scrollIntoView({behavior:"smooth",block:"center"})):n&&!n.value.trim().length&&(e.stopPropagation(),e.preventDefault(),r.style.display="block",n.scrollIntoView({behavior:"smooth",block:"center"}))})}}).observe(document.body,{childList:!0,subtree:!0})});