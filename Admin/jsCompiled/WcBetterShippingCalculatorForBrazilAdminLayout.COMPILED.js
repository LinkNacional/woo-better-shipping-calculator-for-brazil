(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,o,n){return(o=function(t){var o=function(t){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(o)?o:o+""}(o))in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}jQuery(window).on("load",function(){var e=document.querySelector("#mainform");if(e){var o=Array.from(e.querySelectorAll("table.form-table")),n=Array.from(e.querySelectorAll("h2"));if(o.length&&n.length){var r=wcBetterCalcAjax.font_class,a=document.createElement("div");a.style.display="flex",a.style.flexWrap="wrap",a.style.boxSizing="border-box",a.style.marginTop="40px",a.style.gap="20px";var c=document.createElement("div");if(c.className="lkn-settings-content",c.style.flex="1",c.style.minWidth="500px",c.style.boxSizing="border-box",WCBetterCalcWooVersion.status,"invalid"===WCBetterCalcWooVersion.status){var l=document.querySelector('input[name="woo_better_calc_enable_cart_page"]');if(l){var i=l.closest("tbody");if(i){var d=function(){var e=document.createElement("tr"),t=document.createElement("th");t.className="lkn-woo-spacer-row",t.textContent="";var o=document.createElement("td");o.style.padding="0px";var n=document.createElement("div");n.className="warning-message",n.style.display="flex",n.style.alignItems="center",n.style.padding="10px",n.style.border="1px solid #ffcc00",n.style.borderLeftWidth="5px",n.style.borderLeftColor="#ffcc00",n.style.borderRadius="5px",n.style.backgroundColor="#fff8e1",n.style.color="#000",n.style.fontSize="14px",n.style.lineHeight="1.5",n.style.verticalAlign="top",n.style.marginBottom="10px";var r=document.createElement("span");r.textContent="‚ö†Ô∏è",r.style.marginRight="10px",r.style.fontSize="16px";var a=document.createElement("span");return a.textContent="Personaliza√ß√£o do campo do CEP est√° dispon√≠vel a partir do WooCommerce 10+. Fa√ßa o download da vers√£o mais recente para adquirir todas as novas funcionalidades.",n.appendChild(r),n.appendChild(a),o.appendChild(n),e.appendChild(t),e.appendChild(o),e}();i.insertBefore(d,i.firstChild)}}}var s=document.createElement("div");s.className="lkn-settings-side",s.style.display="flex",s.style.flexDirection="column",s.style.width="400px",s.style.minWidth="200px",s.style.alignItems="center",s.style.justifyContent="flex-start",s.style.padding="32px 16px",s.style.boxSizing="border-box";var _=document.createElement("div");_.className="sticky-container",_.style.position="sticky",_.style.top="120px",_.style.maxWidth="370px";var p=P("‚úîÔ∏è",["<strong>ATUALIZADO:</strong> Todas as funcionalidades dispon√≠veis no editor de blocos agora est√£o dispon√≠veis no shortcode!"]),u=P("‚úîÔ∏è",["<strong>NOVO:</strong> Campo de Telefone Aprimorado: Agora com C√≥digo de Pa√≠s (DDI) e de preenchimento obrigat√≥rio."]),b=document.createElement("div");b.className="woo-better-promotional-card",b.style.cssText="\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      border-radius: 12px;\n      padding: 20px;\n      margin-top: 20px;\n      color: white;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n      position: relative;\n      overflow: hidden;\n    ";var m=document.createElement("div");m.style.cssText="\n      position: absolute;\n      top: -50px;\n      right: -50px;\n      width: 100px;\n      height: 100px;\n      background: rgba(255,255,255,0.1);\n      border-radius: 50%;\n      pointer-events: none;\n    ",b.appendChild(m);var f=document.createElement("div");f.style.position="relative",f.style.zIndex="1";var y=document.createElement("h3");y.textContent="Plugin: Link de Pagamento de Faturas para WooCommerce",y.style.cssText="\n      margin: 0 0 12px 0;\n      font-size: 16px;\n      font-weight: 600;\n      color: white;\n      line-height: 1.3;\n    ";var h=document.createElement("p");h.textContent="O Plugin Link de Pagamento √© a solu√ß√£o completa para o seu neg√≥cio. Com ele, √© poss√≠vel gerar links de pagamento, parcelar compras em m√∫ltiplos cart√µes, configurar cobran√ßas recorrentes, aplicar descontos e taxas, e criar or√ßamentos detalhados.",h.style.cssText="\n      margin: 0 0 16px 0;\n      font-size: 14px;\n      line-height: 1.5;\n      color: rgba(255,255,255,0.9);\n    ";var v=document.createElement("div");v.style.cssText="\n      display: flex;\n      gap: 10px;\n      flex-wrap: wrap;\n    ";var w=document.createElement("button");if(w.textContent="Saiba mais",w.style.cssText="\n      background: rgba(255,255,255,0.2);\n      border: 1px solid rgba(255,255,255,0.3);\n      color: white;\n      padding: 8px 16px;\n      border-radius: 6px;\n      font-size: 13px;\n      font-weight: 500;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      backdrop-filter: blur(10px);\n    ",w.addEventListener("mouseenter",function(){this.style.background="rgba(255,255,255,0.3)",this.style.transform="translateY(-1px)"}),w.addEventListener("mouseleave",function(){this.style.background="rgba(255,255,255,0.2)",this.style.transform="translateY(0)"}),w.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),window.open("https://br.wordpress.org/plugins/invoice-payment-for-woocommerce/","_blank")}),v.appendChild(w),!wcBetterCalcAjax.invoice_plugin_installed){var g=document.createElement("button");g.textContent="Instalar",g.style.cssText="\n        background: rgba(255,255,255,0.9);\n        border: none;\n        color: #667eea;\n        padding: 8px 16px;\n        border-radius: 6px;\n        font-size: 13px;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.3s ease;\n      ",g.addEventListener("mouseenter",function(){this.style.background="white",this.style.transform="translateY(-1px)",this.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)"}),g.addEventListener("mouseleave",function(){this.style.background="rgba(255,255,255,0.9)",this.style.transform="translateY(0)",this.style.boxShadow="none"}),g.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t="/wp-admin/update.php?action=install-plugin&plugin=".concat(wcBetterCalcAjax.plugin_slug,"&_wpnonce=").concat(wcBetterCalcAjax.install_nonce);window.open(t,"_blank")}),v.appendChild(g)}f.appendChild(y),f.appendChild(h),f.appendChild(v),b.appendChild(f);var x=document.querySelector("#WooBetterLinkSettingsCard");x&&(x.style.display="block",_.appendChild(x),_.appendChild(p),_.appendChild(u),_.appendChild(b),s.appendChild(_)),a.appendChild(c),a.appendChild(s),n.forEach(function(e){return c.appendChild(e)}),o.forEach(function(e){return c.appendChild(e)});var C=e.querySelector(".submit");C&&C.before(a);var E=document.createElement("div");E.className="lkn-settings-tabs";var k=[];n.forEach(function(e,t){var o=document.createElement("a");o.textContent=e.textContent,o.href="#"+e.textContent.replace(/\s+/g,"-").toLowerCase(),o.className="nav-tab",o.onclick=function(e){e.preventDefault();var n=document.querySelector(".woo-better-floating-icon-container");"Carrinho"===o.textContent||"Produto"===o.textContent?n&&(n.style.display="flex"):n&&(n.style.display="none"),k.forEach(function(e,o){e.className=o===t?"nav-tab nav-tab-active":"nav-tab"}),O(t),window.location.hash=o.hash},E.appendChild(o),k.push(o),e.remove()}),o.forEach(function(e,t){var o,n=k[t].textContent.replace(/\s+/g,"-").toLowerCase(),r="woo_better_calc_title_"+n+"-description",a=document.getElementById(r);if(a&&!e.querySelector(".lkn-description-row")){var c=document.createElement("tr"),l=document.createElement("th");l.className="titledesc wooBetterCustomTitle",l.setAttribute("scope","row");var i=document.createElement("label");i.setAttribute("for",r);var d=(o=n).charAt(0).toUpperCase()+o.slice(1).toLowerCase();i.textContent=d,l.appendChild(i);var s=document.createElement("td");s.className="forminp",s.appendChild(a),c.appendChild(l),c.appendChild(s);var _=e.querySelector("tbody");_||(_=document.createElement("tbody"),e.appendChild(_)),_.insertBefore(c,_.firstChild)}}),k[0].className="nav-tab nav-tab-active",o[0].parentNode.insertBefore(E,o[0]),o.forEach(function(e,o){e.style.width="100%",e.querySelectorAll("th").forEach(function(e){e.style.paddingTop="68px"}),e.querySelectorAll("tr").forEach(function(e){var o=e.querySelector(".forminp");if(o){o.style.display="flex",o.style.flexDirection="column",o.style.width="auto",o.style.padding="15px 25px",o.style.backgroundColor="#fff",o.style.border="1px solid #dfdfdf",o.style.borderRadius="8px",o.style.boxSizing="border-box";var n=e.querySelector(".wooBetterCustomTitle");if(n){var a=document.createElement("p");a.textContent="Utilize shortcodes para adicionar funcionalidades espec√≠ficas do plugin a temas cl√°ssicos.",a.style.fontWeight="normal",a.style.color="#343B45",n.style.paddingLeft=".5em",n.style.fontSize="20px",n.appendChild(a);var c=n.querySelector("label");if(c){var l=document.createElement("div");l.className="woo-forminp-header",l.style.minHeight="44px",c.style.color="#121519";var i=document.createElement("p");i.classList.add("woo-forminp-header-text"),i.style.fontWeight="bold",i.style.color="#121519",i.style.paddingLeft="6px",i.textContent=c.textContent.trim();var d=document.createElement("span");d.textContent="Shortcodes s√£o especialmente √∫teis para temas cl√°ssicos que n√£o utilizam o editor de blocos (Gutenberg).",d.style.color="#343B45",d.style.fontSize="13px",d.style.paddingLeft="6px",d.style.display="block";var s=document.createElement("hr");s.style.border="none",s.style.borderTop="1px solid #ddd",s.style.margin="8px 0",l.appendChild(i),l.appendChild(d),l.appendChild(s);var _=document.createElement("div");for(_.className="woo-forminp-body",_.style.display="flex",_.style.flexDirection="column",_.style.justifyContent="center",_.style.padding="20px 0px",_.style.minHeight="50px",_.style.paddingLeft="6px";o.firstChild;)_.appendChild(o.firstChild);o.innerHTML="",o.appendChild(l),o.appendChild(_)}}var p=o.querySelector("input, select, textarea"),u="";if(p){var b,m=document.createElement("div");m.className="woo-forminp-header",m.style.minHeight="44px";var f=e.querySelector(".titledesc");if(f){var y=f.querySelector(".woocommerce-help-tip");y&&y.remove();var h=document.createElement("p");h.style.fontWeight="normal",h.style.color="#343B45",p.getAttribute("data-desc-tip")&&(h.textContent=p.getAttribute("data-desc-tip")),f.style.paddingLeft=".5em",(u=f.querySelector("label"))||f.textContent&&""!==f.textContent&&((u=document.createElement("label")).setAttribute("for",p.id||""),u.textContent=f.textContent,f.replaceChildren(u)),f.style.fontSize="20px",f.appendChild(h)}if(u){u.style.color="#121519";var v=document.createElement("p");v.classList.add("woo-forminp-header-text"),v.style.fontWeight="bold",v.style.color="#121519",v.style.paddingLeft="6px",p.getAttribute("data-subtitle")?v.textContent=p.getAttribute("data-subtitle"):v.textContent=u.textContent.trim();var w=document.createElement("span");p.getAttribute("data-title-description")&&(w.textContent=p.getAttribute("data-title-description")),w.style.color="#343B45",w.style.fontSize="13px",w.style.paddingLeft="6px",w.style.display="block";var g=document.createElement("hr");g.style.border="none",g.style.borderTop="1px solid #ddd",g.style.margin="8px 0",m.appendChild(v),m.appendChild(w),m.appendChild(g)}var x=document.createElement("div");x.className="woo-forminp-body",x.style.display="flex",x.style.flexDirection="column",x.style.justifyContent="center",x.style.padding="20px 0px",x.style.minHeight="50px",x.style.paddingLeft="6px";var C=null===(b=p.closest("fieldset"))||void 0===b?void 0:b.querySelector("p.description");C&&C.remove();var E=document.createElement("p");if(E.className="description",E.style.color="#8F8F8F",p.getAttribute("data-description")&&(E.textContent=p.getAttribute("data-description")),"input"===p.tagName.toLowerCase()&&("text"===p.type||"number"===p.type)||"select"===p.tagName.toLowerCase()||"textarea"===p.tagName.toLowerCase())p.style.width="100%",p.style.maxWidth="400px",p.style.boxSizing="border-box",p.style.color="#2C3338",x.appendChild(p);else if("input"!==p.tagName.toLowerCase()||"checkbox"!==p.type&&"radio"!==p.type)x.appendChild(p);else{var k=p.closest("fieldset");k?x.appendChild(k):x.appendChild(p)}if(x.appendChild(E),p.id.includes("postcode_current_style")){var L=p.id.includes("cart")?"cart":"product",S=document.createElement("div");S.classList.add("woo-better-container-current-style");var B=document.createElement("div");B.classList.add("woo-better-input-button-group-current-style");var I=document.createElement("div");I.classList.add("woo-better-input-wrapper-current-style");var A=t(t(t(t(t(t({},"woo_better_calc_".concat(L,"_input_background_color_field"),"backgroundColor"),"woo_better_calc_".concat(L,"_input_color_field"),"color"),"woo_better_calc_".concat(L,"_input_border_width"),"borderWidth"),"woo_better_calc_".concat(L,"_input_border_style"),"borderStyle"),"woo_better_calc_".concat(L,"_input_border_color_field"),"borderColor"),"woo_better_calc_".concat(L,"_input_border_radius"),"borderRadius"),N=document.getElementById("woo_better_calc_".concat(L,"_input_placeholder")),W=document.createElement("input");W.type="text",W.id="woo_better_calc_".concat(L,"_input_current_style_postcode_fake_custom"),W.placeholder=N?N.value:"Insira seu CEP",W.classList.add("woo-better-input-current-style"),r&&W.classList.add(r),W.style.cursor="pointer",W.readOnly=!0,W.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("woo_better_calc_".concat(L,"_input_background_color_field_input"));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),Object.keys(A).forEach(function(e){var t=A[e],o=document.getElementById(e);o&&o.value&&(W.style[t]=o.value)});var q=document.querySelectorAll('input[name="woo_better_calc_'.concat(L,'_input_icon"]')),T=document.createElement("img");T.src=WCBetterCalcIcons.transit,T.alt="√çcone padr√£o",T.classList.add("woo-better-icon-current-style"),T.classList.add("woo-better-input-icon");var P=document.getElementById("woo_better_calc_".concat(L,"_input_icon_color"));P&&(P.addEventListener("change",function(){var e=P.value;document.querySelectorAll(".woo-better-input-icon").forEach(function(t){t.classList.remove("black-icon","gray-icon","red-icon","pink-icon","green-icon","blue-icon"),t.classList.add(e)})}),T.classList.add(P.value));var j=document.querySelector(".woo-better-input-wrapper-current-style");j&&j.appendChild(T),q.length>0&&q.forEach(function(e){e.addEventListener("change",function(){var t=e.value;WCBetterCalcIcons[t]&&(T.src=WCBetterCalcIcons[t],T.alt=t)}),e.checked&&WCBetterCalcIcons[e.value]&&(T.src=WCBetterCalcIcons[e.value],T.alt=e.value)}),I.appendChild(W),I.appendChild(T);var z=t(t(t(t(t(t({},"woo_better_calc_".concat(L,"_button_background_color_field"),"backgroundColor"),"woo_better_calc_".concat(L,"_button_color_field"),"color"),"woo_better_calc_".concat(L,"_button_border_width"),"borderWidth"),"woo_better_calc_".concat(L,"_button_border_style"),"borderStyle"),"woo_better_calc_".concat(L,"_button_border_color_field"),"borderColor"),"woo_better_calc_".concat(L,"_button_border_radius"),"borderRadius"),D=document.createElement("button");D.textContent="CONSULTAR",D.id="woo_better_calc_".concat(L,"_button_current_style_postcode_fake_custom"),D.classList.add("woo-better-button-current-style"),r&&D.classList.add(r),Object.keys(z).forEach(function(e){var t=z[e],o=document.getElementById(e);o&&o.value&&(D.style[t]=o.value)}),D.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("woo_better_calc_".concat(L,"_button_background_color_field_input"));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),B.appendChild(I),B.appendChild(D),S.appendChild(B);var O=document.createElement("p");O.textContent="N√£o sei meu CEP",O.classList.add("woo-better-link-current-style"),r&&O.classList.add(r),S.appendChild(O),p.parentNode.insertBefore(S,p),p.remove()}if(p.id.includes("color_field")){var H=document.createElement("input");H.type="color",H.id=p.id+"_input",H.name=p.name+"_input",H.className="woo-better-color-field",H.value=p.value||"#000000",H.addEventListener("input",function(){p.value=H.value});var R=document.createElement("div");R.className="woo-better-color-wrapper",R.style.display="flex",R.style.alignItems="center",R.style.flexDirection="row",R.style.flexWrap="wrap",R.style.gap="10px";var M=p.nextElementSibling;M&&M.classList.contains("description")&&(M.style.fontSize="16px",M.style.margin="0",R.appendChild(M)),p.parentNode.insertBefore(R,p),R.appendChild(p),R.insertBefore(H,M||p),p.style.display="none"}var F={woo_better_min_free_shipping_value:"woo_better_enable_min_free_shipping",woo_better_min_free_shipping_success_message:"woo_better_min_free_shipping_message",woo_better_calc_cart_input_border_width:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_color_field:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_border_style:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_border_color_field:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_border_radius:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_button_color_field:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_width:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_style:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_color_field:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_radius:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_input_icon:"woo_better_calc_cart_input_placeholder",woo_better_calc_cart_input_icon_color:"woo_better_calc_cart_input_placeholder",woo_better_calc_cart_custom_position:"woo_better_calc_cart_input_position",woo_better_calc_product_input_border_width:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_color_field:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_border_style:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_border_color_field:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_border_radius:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_button_color_field:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_width:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_style:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_color_field:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_radius:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_input_icon:"woo_better_calc_product_input_placeholder",woo_better_calc_product_input_icon_color:"woo_better_calc_product_input_placeholder",woo_better_calc_product_custom_position:"woo_better_calc_product_input_position",woo_better_calc_enable_auto_address_fill:"woo_better_calc_cep_field_position",woo_better_calc_cache_expiration_time:"woo_better_calc_enable_auto_postcode_search",woo_better_calc_enable_auto_cache_reset:"woo_better_calc_enable_auto_postcode_search"};if(o.innerHTML="",o.appendChild(m),o.appendChild(x),p.name&&F[p.name]){var V=F[p.name],U=document.querySelector('[name="'.concat(V,'"]'));if(U){var Y=U.closest(".woo-forminp-body");Y&&(x.style.minHeight="auto",o.style.padding="0px",o.style.margin="0px",o.style.paddingTop="15px",o.style.marginTop="10px",o.style.border="none",o.style.marginLeft="-6px",Y.appendChild(o),e.remove())}}}}})}),document.querySelectorAll(".woo-better-shortcode").forEach(function(e){var t=document.createElement("button");t.type="button",t.className="woo-better-copy-shortcode-btn",t.title="Copiar shortcode",t.innerHTML="üìã",t.style.marginLeft="8px",t.style.cursor="pointer",t.style.border="none",t.style.background="transparent",t.style.fontSize="16px",t.style.transition="transform 0.2s",t.addEventListener("click",function(){var o=e.textContent.trim();navigator.clipboard.writeText(o).then(function(){t.innerHTML="‚úÖ",t.style.transform="scale(1.2)",setTimeout(function(){t.innerHTML="üìã",t.style.transform="scale(1)"},1200)})}),e.parentNode.insertBefore(t,e.nextSibling)});var L=document.querySelectorAll('input[name="woo_better_calc_cep_field_position"]'),S=document.querySelectorAll('input[name="woo_better_calc_enable_auto_address_fill"]');L.length>0&&S.length>0&&(D(),L.forEach(function(e){e.addEventListener("change",D)})),j("cart"),j("product"),z("cart"),z("product"),function(){var e=document.getElementById("woo_better_calc_cache_expiration_time"),t=document.getElementById("woo_better_calc_enable_auto_cache_reset");if(e&&t){var o,n=e.closest(".forminp"),r=t.closest(".forminp"),a=null===(o=document.querySelector('input[name="woo_better_calc_enable_auto_postcode_search"]:checked'))||void 0===o?void 0:o.value;n&&r&&("yes"===a?(n.style.display="flex",r.style.display="flex"):(n.style.display="none",r.style.display="none")),document.querySelectorAll('input[name="woo_better_calc_enable_auto_postcode_search"]').forEach(function(e){e.addEventListener("change",function(){var e,t=null===(e=document.querySelector('input[name="woo_better_calc_enable_auto_postcode_search"]:checked'))||void 0===e?void 0:e.value;n&&r&&("yes"===t?(n.style.display="flex",r.style.display="flex"):(n.style.display="none",r.style.display="none"))})})}}(),function(){var e=document.getElementById("woo_better_calc_enable_auto_cache_reset");if(e){e.style.display="none";var t=document.createElement("button");t.type="button",t.className="woo-better-cache-button components-button is-primary",t.textContent="Limpar o cache",t.addEventListener("click",function(){if(confirm("Tem certeza de que deseja limpar o cache?")){var o=function(){for(var e="",t=0;t<19;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return"WCBCB_"+e}();e.value=o,t.textContent="Limpando cache...",t.disabled=!0,t.style.backgroundColor="#007cba",t.style.color="#fff";var n="undefined"!=typeof wcBetterCalcAjax?wcBetterCalcAjax.ajaxurl:"undefined"!=typeof ajaxurl?ajaxurl:"/wp-admin/admin-ajax.php",r=new FormData;r.append("action","wc_better_calc_get_nonce"),r.append("action_nonce","woo_better_calc_update_cache_token"),fetch(n,{method:"POST",body:r}).then(function(e){return e.json()}).then(function(e){if(e.success&&e.data&&e.data.nonce){t.textContent="Limpando cache...";var r=new FormData;return r.append("action","woo_better_calc_update_cache_token"),r.append("token",o),r.append("nonce",e.data.nonce),fetch(n,{method:"POST",body:r})}throw new Error("Erro ao obter nonce: "+(e.data||"Nonce inv√°lido"))}).then(function(e){return e.json()}).then(function(e){e.success?(t.textContent="Cache limpo!",t.style.backgroundColor="#00a32a",t.style.color="#fff"):(t.textContent="Erro ao limpar cache",t.style.backgroundColor="#dc3232",t.style.color="#fff",console.error("Erro ao atualizar token:",e.data))}).catch(function(e){t.textContent="Erro de conex√£o",t.style.backgroundColor="#dc3232",t.style.color="#fff",console.error("Erro:",e)}).finally(function(){setTimeout(function(){t.textContent="Limpar o cache",t.disabled=!1,t.style.backgroundColor="",t.style.color=""},2e3)})}}),e.parentNode.insertBefore(t,e.nextSibling)}}(),"invalid"===WCBetterCalcWooVersion.status&&document.querySelectorAll('input[name*="enable_cart"], input[name*="cart_input"], select[name*="cart_input"], select[name*="cart_button"], input[name*="cart_button"]').forEach(function(e){e.disabled=!0,e.style.cursor="not-allowed"});var B=document.createElement("div");B.className="woo-better-floating-icon-container";var I=document.createElement("img");I.src=WCBetterCalcIcons.consult,I.alt="Ir para o componente",I.title="Ir para o componente",I.className="woo-better-floating-icon",B.addEventListener("click",function(){var e=window.location.hash,t="";if(e.includes("carrinho")?t="cart":e.includes("produto")&&(t="product"),t){var o=document.getElementById("woo_better_calc_".concat(t,"_input_current_style_postcode_fake_custom"));o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.style.transition="box-shadow 0.3s ease",o.style.boxShadow="0 0 10px 2px #0073aa",setTimeout(function(){o.style.boxShadow="none"},1e3))}else alert("Componente dispon√≠vel apenas nas abas de Carrinho ou Produto.")}),B.appendChild(I),document.body.appendChild(B);var A=k[0],N=window.location.hash;if(N){var W=k.findIndex(function(e){return e.href.endsWith(N)});W>=0&&(A=k[W])}!A||"Carrinho"!==A.textContent&&"Produto"!==A.textContent?B.style.display="none":B.style.display="flex",O(0);var q=window.location.hash;if(q){var T=k.findIndex(function(e){return e.href.endsWith(q)});T>=0&&k[T].click()}}}function P(e,t){var o=document.createElement("div");o.className="custom-feature-message";var n=document.createElement("span");n.textContent=e,n.style.marginRight="10px",n.style.fontSize="16px";var r=document.createElement("div");return r.style.display="flex",r.style.flexDirection="column",t.forEach(function(e){var t=document.createElement("span");t.innerHTML=e,t.style.marginBottom="5px",r.appendChild(t)}),o.appendChild(n),o.appendChild(r),o}function j(e){var o=t(t(t(t(t(t({},"woo_better_calc_".concat(e,"_input_background_color_field_input"),{property:"background-color",default:"#ffffff"}),"woo_better_calc_".concat(e,"_input_color_field_input"),{property:"color",default:"#2C3338"}),"woo_better_calc_".concat(e,"_input_border_width"),{property:"border-width",default:"1px"}),"woo_better_calc_".concat(e,"_input_border_style"),{property:"border-style",default:"solid"}),"woo_better_calc_".concat(e,"_input_border_color_field_input"),{property:"border-color",default:"#ccc"}),"woo_better_calc_".concat(e,"_input_border_radius"),{property:"border-radius",default:"4px"}),n=["px","%","em","rem","vh","vw","vmin","vmax","cm","mm","in","pt","pc","ex","ch"],r=document.getElementById("woo_better_calc_".concat(e,"_input_current_style_postcode_fake_custom"));r&&Object.keys(o).forEach(function(e){var t=o[e],a=t.property,c=t.default,l=document.getElementById(e);l&&(l.addEventListener("change",function(){var e=l.value;if("text"===l.type&&!new RegExp("^\\d+(\\.\\d+)?(".concat(n.join("|"),")$")).test(e))return l.value=c,void r.style.setProperty(a,c,"important");r.style.setProperty(a,e,"important")}),r.style.setProperty(a,c,"important"))});var a=t(t(t(t(t(t({},"woo_better_calc_".concat(e,"_button_background_color_field_input"),{property:"background-color",default:"#0073aa"}),"woo_better_calc_".concat(e,"_button_color_field_input"),{property:"color",default:"#ffffff"}),"woo_better_calc_".concat(e,"_button_border_width"),{property:"border-width",default:"1px"}),"woo_better_calc_".concat(e,"_button_border_style"),{property:"border-style",default:"none"}),"woo_better_calc_".concat(e,"_button_border_color_field_input"),{property:"border-color",default:"transparent"}),"woo_better_calc_".concat(e,"_button_border_radius"),{property:"border-radius",default:"4px"}),c=["px","%","em","rem","vh","vw","vmin","vmax","cm","mm","in","pt","pc","ex","ch"],l=document.querySelector("#woo_better_calc_".concat(e,"_button_current_style_postcode_fake_custom"));l&&Object.keys(a).forEach(function(e){var t=a[e],o=t.property,n=t.default,r=document.getElementById(e);r&&r.addEventListener("change",function(){var e=r.value;if("text"===r.type&&!new RegExp("^\\d+(\\.\\d+)?(".concat(c.join("|"),")$")).test(e))return r.value=n,void l.style.setProperty(o,n,"important");l.style.setProperty(o,e,"important")})});var i=document.getElementById("woo_better_calc_".concat(e,"_input_placeholder")),d=document.getElementById("woo_better_calc_".concat(e,"_input_current_style_postcode_fake_custom"));i&&d&&i.addEventListener("change",function(){var e=i.value;d.placeholder=e});var s={transit:WCBetterCalcIcons.transit,bill:WCBetterCalcIcons.bill,truck:WCBetterCalcIcons.truck,postcode:WCBetterCalcIcons.postcode,zipcode:WCBetterCalcIcons.zipcode},_=document.querySelectorAll('input[name="woo_better_calc_'.concat(e,'_input_icon"]'));_.length>0&&_.forEach(function(t){var o=t.value;if(s[o]){var n=document.createElement("img");n.src=s[o],n.alt=o,n.style.width="40px",n.style.height="40px",n.style.marginLeft="10px",n.classList.add("woo-better-input-icon");var r=document.getElementById("woo_better_calc_".concat(e,"_input_icon_color"));n.classList.add(r?r.value:"black-icon");var a=t.closest("label");a&&(a.textContent="",a.appendChild(t),a.appendChild(n),a.style.display="flex",a.style.alignItems="center",a.style.setProperty("margin","14px 0","important"))}})}function z(e){var t=document.getElementById("woo_better_calc_".concat(e,"_custom_position")),o=document.getElementById("woo_better_calc_".concat(e,"_input_position"));if(t&&o){var n=t.closest(".forminp");n&&("custom"===o.value?n.style.display="flex":n.style.display="none")}o&&o.addEventListener("change",function(){var e=o.value;if(t){var n=t.closest(".forminp");n&&(n.style.display="custom"===e?"flex":"none")}})}function D(){var e=Array.from(L).some(function(e){return e.checked&&"yes"===e.value});S.forEach(function(t){t.disabled=!e,t.style.cursor=e?"":"not-allowed",e||("no"===t.value?t.checked=!0:"yes"===t.value&&(t.checked=!1))})}function O(e){o.forEach(function(t,o){t.style.display=o===e?"table":"none"})}})})();